{"version":3,"file":"embed.js","sources":["../../src/embed/embed.js"],"sourcesContent":["// IframeTube - all rights reserved.\r\n// copyright (c) 2026\r\n// you may copy this project and modify it for personal use only.\r\n// you may not distribute this project or any modified versions of it without explicit permission from the author.\r\n\r\n// view the full source code and how this works here: https://github.com/IframeTube/IframeTube\r\n// if you encounter any issues, please report them here: https://github.com/IframeTube/IframeTube/issues\r\n\r\n\r\n// wraps everything inside an IIFE (this avoids some edge cases)\r\n(function () {\r\n    'use strict'; // better for debugging\r\n\r\n    // DOMPurify, this is used to safely sanitize HTML, official repository: https://github.com/cure53/DOMPurify\r\n    var Xt = Object.defineProperty; var c = (r, o) => Xt(r, \"name\", { value: o, configurable: !0 }); var { entries: gt, setPrototypeOf: ft, isFrozen: jt, getPrototypeOf: Vt, getOwnPropertyDescriptor: $t } = Object, { freeze: R, seal: b, create: ve } = Object, { apply: ke, construct: Ue } = typeof Reflect < \"u\" && Reflect; R || (R = c(function (o) { return o }, \"freeze\")); b || (b = c(function (o) { return o }, \"seal\")); ke || (ke = c(function (o, l) { for (var a = arguments.length, f = new Array(a > 2 ? a - 2 : 0), y = 2; y < a; y++)f[y - 2] = arguments[y]; return o.apply(l, f) }, \"apply\")); Ue || (Ue = c(function (o) { for (var l = arguments.length, a = new Array(l > 1 ? l - 1 : 0), f = 1; f < l; f++)a[f - 1] = arguments[f]; return new o(...a) }, \"construct\")); var fe = O(Array.prototype.forEach), qt = O(Array.prototype.lastIndexOf), ut = O(Array.prototype.pop), K = O(Array.prototype.push), Kt = O(Array.prototype.splice), me = O(String.prototype.toLowerCase), Ie = O(String.prototype.toString), Ce = O(String.prototype.match), Z = O(String.prototype.replace), Zt = O(String.prototype.indexOf), Jt = O(String.prototype.trim), D = O(Object.prototype.hasOwnProperty), S = O(RegExp.prototype.test), J = Qt(TypeError); function O(r) { return function (o) { o instanceof RegExp && (o.lastIndex = 0); for (var l = arguments.length, a = new Array(l > 1 ? l - 1 : 0), f = 1; f < l; f++)a[f - 1] = arguments[f]; return ke(r, o, a) } } c(O, \"unapply\"); function Qt(r) { return function () { for (var o = arguments.length, l = new Array(o), a = 0; a < o; a++)l[a] = arguments[a]; return Ue(r, l) } } c(Qt, \"unconstruct\"); function s(r, o) { let l = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : me; ft && ft(r, null); let a = o.length; for (; a--;) { let f = o[a]; if (typeof f == \"string\") { let y = l(f); y !== f && (jt(o) || (o[a] = y), f = y) } r[f] = !0 } return r } c(s, \"addToSet\"); function en(r) { for (let o = 0; o < r.length; o++)D(r, o) || (r[o] = null); return r } c(en, \"cleanArray\"); function w(r) { let o = ve(null); for (let [l, a] of gt(r)) D(r, l) && (Array.isArray(a) ? o[l] = en(a) : a && typeof a == \"object\" && a.constructor === Object ? o[l] = w(a) : o[l] = a); return o } c(w, \"clone\"); function Q(r, o) { for (; r !== null;) { let a = $t(r, o); if (a) { if (a.get) return O(a.get); if (typeof a.value == \"function\") return O(a.value) } r = Vt(r) } function l() { return null } return c(l, \"fallbackValue\"), l } c(Q, \"lookupGetter\"); var mt = R([\"a\", \"abbr\", \"acronym\", \"address\", \"area\", \"article\", \"aside\", \"audio\", \"b\", \"bdi\", \"bdo\", \"big\", \"blink\", \"blockquote\", \"body\", \"br\", \"button\", \"canvas\", \"caption\", \"center\", \"cite\", \"code\", \"col\", \"colgroup\", \"content\", \"data\", \"datalist\", \"dd\", \"decorator\", \"del\", \"details\", \"dfn\", \"dialog\", \"dir\", \"div\", \"dl\", \"dt\", \"element\", \"em\", \"fieldset\", \"figcaption\", \"figure\", \"font\", \"footer\", \"form\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"head\", \"header\", \"hgroup\", \"hr\", \"html\", \"i\", \"img\", \"input\", \"ins\", \"kbd\", \"label\", \"legend\", \"li\", \"main\", \"map\", \"mark\", \"marquee\", \"menu\", \"menuitem\", \"meter\", \"nav\", \"nobr\", \"ol\", \"optgroup\", \"option\", \"output\", \"p\", \"picture\", \"pre\", \"progress\", \"q\", \"rp\", \"rt\", \"ruby\", \"s\", \"samp\", \"search\", \"section\", \"select\", \"shadow\", \"slot\", \"small\", \"source\", \"spacer\", \"span\", \"strike\", \"strong\", \"style\", \"sub\", \"summary\", \"sup\", \"table\", \"tbody\", \"td\", \"template\", \"textarea\", \"tfoot\", \"th\", \"thead\", \"time\", \"tr\", \"track\", \"tt\", \"u\", \"ul\", \"var\", \"video\", \"wbr\"]), Me = R([\"svg\", \"a\", \"altglyph\", \"altglyphdef\", \"altglyphitem\", \"animatecolor\", \"animatemotion\", \"animatetransform\", \"circle\", \"clippath\", \"defs\", \"desc\", \"ellipse\", \"enterkeyhint\", \"exportparts\", \"filter\", \"font\", \"g\", \"glyph\", \"glyphref\", \"hkern\", \"image\", \"inputmode\", \"line\", \"lineargradient\", \"marker\", \"mask\", \"metadata\", \"mpath\", \"part\", \"path\", \"pattern\", \"polygon\", \"polyline\", \"radialgradient\", \"rect\", \"stop\", \"style\", \"switch\", \"symbol\", \"text\", \"textpath\", \"title\", \"tref\", \"tspan\", \"view\", \"vkern\"]), we = R([\"feBlend\", \"feColorMatrix\", \"feComponentTransfer\", \"feComposite\", \"feConvolveMatrix\", \"feDiffuseLighting\", \"feDisplacementMap\", \"feDistantLight\", \"feDropShadow\", \"feFlood\", \"feFuncA\", \"feFuncB\", \"feFuncG\", \"feFuncR\", \"feGaussianBlur\", \"feImage\", \"feMerge\", \"feMergeNode\", \"feMorphology\", \"feOffset\", \"fePointLight\", \"feSpecularLighting\", \"feSpotLight\", \"feTile\", \"feTurbulence\"]), tn = R([\"animate\", \"color-profile\", \"cursor\", \"discard\", \"font-face\", \"font-face-format\", \"font-face-name\", \"font-face-src\", \"font-face-uri\", \"foreignobject\", \"hatch\", \"hatchpath\", \"mesh\", \"meshgradient\", \"meshpatch\", \"meshrow\", \"missing-glyph\", \"script\", \"set\", \"solidcolor\", \"unknown\", \"use\"]), xe = R([\"math\", \"menclose\", \"merror\", \"mfenced\", \"mfrac\", \"mglyph\", \"mi\", \"mlabeledtr\", \"mmultiscripts\", \"mn\", \"mo\", \"mover\", \"mpadded\", \"mphantom\", \"mroot\", \"mrow\", \"ms\", \"mspace\", \"msqrt\", \"mstyle\", \"msub\", \"msup\", \"msubsup\", \"mtable\", \"mtd\", \"mtext\", \"mtr\", \"munder\", \"munderover\", \"mprescripts\"]), nn = R([\"maction\", \"maligngroup\", \"malignmark\", \"mlongdiv\", \"mscarries\", \"mscarry\", \"msgroup\", \"mstack\", \"msline\", \"msrow\", \"semantics\", \"annotation\", \"annotation-xml\", \"mprescripts\", \"none\"]), pt = R([\"#text\"]), dt = R([\"accept\", \"action\", \"align\", \"alt\", \"autocapitalize\", \"autocomplete\", \"autopictureinpicture\", \"autoplay\", \"background\", \"bgcolor\", \"border\", \"capture\", \"cellpadding\", \"cellspacing\", \"checked\", \"cite\", \"class\", \"clear\", \"color\", \"cols\", \"colspan\", \"controls\", \"controlslist\", \"coords\", \"crossorigin\", \"datetime\", \"decoding\", \"default\", \"dir\", \"disabled\", \"disablepictureinpicture\", \"disableremoteplayback\", \"download\", \"draggable\", \"enctype\", \"enterkeyhint\", \"exportparts\", \"face\", \"for\", \"headers\", \"height\", \"hidden\", \"high\", \"href\", \"hreflang\", \"id\", \"inert\", \"inputmode\", \"integrity\", \"ismap\", \"kind\", \"label\", \"lang\", \"list\", \"loading\", \"loop\", \"low\", \"max\", \"maxlength\", \"media\", \"method\", \"min\", \"minlength\", \"multiple\", \"muted\", \"name\", \"nonce\", \"noshade\", \"novalidate\", \"nowrap\", \"open\", \"optimum\", \"part\", \"pattern\", \"placeholder\", \"playsinline\", \"popover\", \"popovertarget\", \"popovertargetaction\", \"poster\", \"preload\", \"pubdate\", \"radiogroup\", \"readonly\", \"rel\", \"required\", \"rev\", \"reversed\", \"role\", \"rows\", \"rowspan\", \"spellcheck\", \"scope\", \"selected\", \"shape\", \"size\", \"sizes\", \"slot\", \"span\", \"srclang\", \"start\", \"src\", \"srcset\", \"step\", \"style\", \"summary\", \"tabindex\", \"title\", \"translate\", \"type\", \"usemap\", \"valign\", \"value\", \"width\", \"wrap\", \"xmlns\", \"slot\"]), Pe = R([\"accent-height\", \"accumulate\", \"additive\", \"alignment-baseline\", \"amplitude\", \"ascent\", \"attributename\", \"attributetype\", \"azimuth\", \"basefrequency\", \"baseline-shift\", \"begin\", \"bias\", \"by\", \"class\", \"clip\", \"clippathunits\", \"clip-path\", \"clip-rule\", \"color\", \"color-interpolation\", \"color-interpolation-filters\", \"color-profile\", \"color-rendering\", \"cx\", \"cy\", \"d\", \"dx\", \"dy\", \"diffuseconstant\", \"direction\", \"display\", \"divisor\", \"dur\", \"edgemode\", \"elevation\", \"end\", \"exponent\", \"fill\", \"fill-opacity\", \"fill-rule\", \"filter\", \"filterunits\", \"flood-color\", \"flood-opacity\", \"font-family\", \"font-size\", \"font-size-adjust\", \"font-stretch\", \"font-style\", \"font-variant\", \"font-weight\", \"fx\", \"fy\", \"g1\", \"g2\", \"glyph-name\", \"glyphref\", \"gradientunits\", \"gradienttransform\", \"height\", \"href\", \"id\", \"image-rendering\", \"in\", \"in2\", \"intercept\", \"k\", \"k1\", \"k2\", \"k3\", \"k4\", \"kerning\", \"keypoints\", \"keysplines\", \"keytimes\", \"lang\", \"lengthadjust\", \"letter-spacing\", \"kernelmatrix\", \"kernelunitlength\", \"lighting-color\", \"local\", \"marker-end\", \"marker-mid\", \"marker-start\", \"markerheight\", \"markerunits\", \"markerwidth\", \"maskcontentunits\", \"maskunits\", \"max\", \"mask\", \"mask-type\", \"media\", \"method\", \"mode\", \"min\", \"name\", \"numoctaves\", \"offset\", \"operator\", \"opacity\", \"order\", \"orient\", \"orientation\", \"origin\", \"overflow\", \"paint-order\", \"path\", \"pathlength\", \"patterncontentunits\", \"patterntransform\", \"patternunits\", \"points\", \"preservealpha\", \"preserveaspectratio\", \"primitiveunits\", \"r\", \"rx\", \"ry\", \"radius\", \"refx\", \"refy\", \"repeatcount\", \"repeatdur\", \"restart\", \"result\", \"rotate\", \"scale\", \"seed\", \"shape-rendering\", \"slope\", \"specularconstant\", \"specularexponent\", \"spreadmethod\", \"startoffset\", \"stddeviation\", \"stitchtiles\", \"stop-color\", \"stop-opacity\", \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-linecap\", \"stroke-linejoin\", \"stroke-miterlimit\", \"stroke-opacity\", \"stroke\", \"stroke-width\", \"style\", \"surfacescale\", \"systemlanguage\", \"tabindex\", \"tablevalues\", \"targetx\", \"targety\", \"transform\", \"transform-origin\", \"text-anchor\", \"text-decoration\", \"text-rendering\", \"textlength\", \"type\", \"u1\", \"u2\", \"unicode\", \"values\", \"viewbox\", \"visibility\", \"version\", \"vert-adv-y\", \"vert-origin-x\", \"vert-origin-y\", \"width\", \"word-spacing\", \"wrap\", \"writing-mode\", \"xchannelselector\", \"ychannelselector\", \"x\", \"x1\", \"x2\", \"xmlns\", \"y\", \"y1\", \"y2\", \"z\", \"zoomandpan\"]), Tt = R([\"accent\", \"accentunder\", \"align\", \"bevelled\", \"close\", \"columnsalign\", \"columnlines\", \"columnspan\", \"denomalign\", \"depth\", \"dir\", \"display\", \"displaystyle\", \"encoding\", \"fence\", \"frame\", \"height\", \"href\", \"id\", \"largeop\", \"length\", \"linethickness\", \"lspace\", \"lquote\", \"mathbackground\", \"mathcolor\", \"mathsize\", \"mathvariant\", \"maxsize\", \"minsize\", \"movablelimits\", \"notation\", \"numalign\", \"open\", \"rowalign\", \"rowlines\", \"rowspacing\", \"rowspan\", \"rspace\", \"rquote\", \"scriptlevel\", \"scriptminsize\", \"scriptsizemultiplier\", \"selection\", \"separator\", \"separators\", \"stretchy\", \"subscriptshift\", \"supscriptshift\", \"symmetric\", \"voffset\", \"width\", \"xmlns\"]), ue = R([\"xlink:href\", \"xml:id\", \"xlink:title\", \"xml:space\", \"xmlns:xlink\"]), on = b(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm), an = b(/<%[\\w\\W]*|[\\w\\W]*%>/gm), rn = b(/\\$\\{[\\w\\W]*/gm), sn = b(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/), ln = b(/^aria-[\\-\\w]+$/), ht = b(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i), cn = b(/^(?:\\w+script|data):/i), fn = b(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g), At = b(/^html$/i), un = b(/^[a-z][.\\w]*(-[.\\w]+)+$/i), Et = Object.freeze({ __proto__: null, ARIA_ATTR: ln, ATTR_WHITESPACE: fn, CUSTOM_ELEMENT: un, DATA_ATTR: sn, DOCTYPE_NAME: At, ERB_EXPR: an, IS_ALLOWED_URI: ht, IS_SCRIPT_OR_DATA: cn, MUSTACHE_EXPR: on, TMPLIT_EXPR: rn }), ee = { element: 1, attribute: 2, text: 3, cdataSection: 4, entityReference: 5, entityNode: 6, progressingInstruction: 7, comment: 8, document: 9, documentType: 10, documentFragment: 11, notation: 12 }, mn = c(function () { return typeof window > \"u\" ? null : window }, \"getGlobal\"), pn = c(function (o, l) { if (typeof o != \"object\" || typeof o.createPolicy != \"function\") return null; let a = null, f = \"data-tt-policy-suffix\"; l && l.hasAttribute(f) && (a = l.getAttribute(f)); let y = \"dompurify\" + (a ? \"#\" + a : \"\"); try { return o.createPolicy(y, { createHTML(v) { return v }, createScriptURL(v) { return v } }) } catch { return console.warn(\"TrustedTypes policy \" + y + \" could not be created.\"), null } }, \"_createTrustedTypesPolicy\"), _t = c(function () { return { afterSanitizeAttributes: [], afterSanitizeElements: [], afterSanitizeShadowDOM: [], beforeSanitizeAttributes: [], beforeSanitizeElements: [], beforeSanitizeShadowDOM: [], uponSanitizeAttribute: [], uponSanitizeElement: [], uponSanitizeShadowNode: [] } }, \"_createHooksMap\"); function St() { let r = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : mn(), o = c(i => St(i), \"DOMPurify\"); if (o.version = \"3.3.0\", o.removed = [], !r || !r.document || r.document.nodeType !== ee.document || !r.Element) return o.isSupported = !1, o; let { document: l } = r, a = l, f = a.currentScript, { DocumentFragment: y, HTMLTemplateElement: v, Node: pe, Element: Fe, NodeFilter: Y, NamedNodeMap: Rt = r.NamedNodeMap || r.MozNamedAttrMap, HTMLFormElement: Ot, DOMParser: yt, trustedTypes: te } = r, X = Fe.prototype, Lt = Q(X, \"cloneNode\"), bt = Q(X, \"remove\"), Dt = Q(X, \"nextSibling\"), Nt = Q(X, \"childNodes\"), ne = Q(X, \"parentNode\"); if (typeof v == \"function\") { let i = l.createElement(\"template\"); i.content && i.content.ownerDocument && (l = i.content.ownerDocument) } let h, j = \"\", { implementation: de, createNodeIterator: It, createDocumentFragment: Ct, getElementsByTagName: Mt } = l, { importNode: wt } = a, A = _t(); o.isSupported = typeof gt == \"function\" && typeof ne == \"function\" && de && de.createHTMLDocument !== void 0; let { MUSTACHE_EXPR: Te, ERB_EXPR: Ee, TMPLIT_EXPR: _e, DATA_ATTR: xt, ARIA_ATTR: Pt, IS_SCRIPT_OR_DATA: vt, ATTR_WHITESPACE: He, CUSTOM_ELEMENT: kt } = Et, { IS_ALLOWED_URI: ze } = Et, d = null, Ge = s({}, [...mt, ...Me, ...we, ...xe, ...pt]), E = null, We = s({}, [...dt, ...Pe, ...Tt, ...ue]), m = Object.seal(ve(null, { tagNameCheck: { writable: !0, configurable: !1, enumerable: !0, value: null }, attributeNameCheck: { writable: !0, configurable: !1, enumerable: !0, value: null }, allowCustomizedBuiltInElements: { writable: !0, configurable: !1, enumerable: !0, value: !1 } })), V = null, ge = null, k = Object.seal(ve(null, { tagCheck: { writable: !0, configurable: !1, enumerable: !0, value: null }, attributeCheck: { writable: !0, configurable: !1, enumerable: !0, value: null } })), Be = !0, he = !0, Ye = !1, Xe = !0, U = !1, oe = !0, x = !1, Ae = !1, Se = !1, F = !1, ie = !1, ae = !1, je = !0, Ve = !1, Ut = \"user-content-\", Re = !0, $ = !1, H = {}, z = null, $e = s({}, [\"annotation-xml\", \"audio\", \"colgroup\", \"desc\", \"foreignobject\", \"head\", \"iframe\", \"math\", \"mi\", \"mn\", \"mo\", \"ms\", \"mtext\", \"noembed\", \"noframes\", \"noscript\", \"plaintext\", \"script\", \"style\", \"svg\", \"template\", \"thead\", \"title\", \"video\", \"xmp\"]), qe = null, Ke = s({}, [\"audio\", \"video\", \"img\", \"source\", \"image\", \"track\"]), Oe = null, Ze = s({}, [\"alt\", \"class\", \"for\", \"id\", \"label\", \"name\", \"pattern\", \"placeholder\", \"role\", \"summary\", \"title\", \"value\", \"style\", \"xmlns\"]), re = \"http://www.w3.org/1998/Math/MathML\", se = \"http://www.w3.org/2000/svg\", I = \"http://www.w3.org/1999/xhtml\", G = I, ye = !1, Le = null, Ft = s({}, [re, se, I], Ie), le = s({}, [\"mi\", \"mo\", \"mn\", \"ms\", \"mtext\"]), ce = s({}, [\"annotation-xml\"]), Ht = s({}, [\"title\", \"style\", \"font\", \"a\", \"script\"]), q = null, zt = [\"application/xhtml+xml\", \"text/html\"], Gt = \"text/html\", T = null, W = null, Wt = l.createElement(\"form\"), Je = c(function (e) { return e instanceof RegExp || e instanceof Function }, \"isRegexOrFunction\"), be = c(function () { let e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}; if (!(W && W === e)) { if ((!e || typeof e != \"object\") && (e = {}), e = w(e), q = zt.indexOf(e.PARSER_MEDIA_TYPE) === -1 ? Gt : e.PARSER_MEDIA_TYPE, T = q === \"application/xhtml+xml\" ? Ie : me, d = D(e, \"ALLOWED_TAGS\") ? s({}, e.ALLOWED_TAGS, T) : Ge, E = D(e, \"ALLOWED_ATTR\") ? s({}, e.ALLOWED_ATTR, T) : We, Le = D(e, \"ALLOWED_NAMESPACES\") ? s({}, e.ALLOWED_NAMESPACES, Ie) : Ft, Oe = D(e, \"ADD_URI_SAFE_ATTR\") ? s(w(Ze), e.ADD_URI_SAFE_ATTR, T) : Ze, qe = D(e, \"ADD_DATA_URI_TAGS\") ? s(w(Ke), e.ADD_DATA_URI_TAGS, T) : Ke, z = D(e, \"FORBID_CONTENTS\") ? s({}, e.FORBID_CONTENTS, T) : $e, V = D(e, \"FORBID_TAGS\") ? s({}, e.FORBID_TAGS, T) : w({}), ge = D(e, \"FORBID_ATTR\") ? s({}, e.FORBID_ATTR, T) : w({}), H = D(e, \"USE_PROFILES\") ? e.USE_PROFILES : !1, Be = e.ALLOW_ARIA_ATTR !== !1, he = e.ALLOW_DATA_ATTR !== !1, Ye = e.ALLOW_UNKNOWN_PROTOCOLS || !1, Xe = e.ALLOW_SELF_CLOSE_IN_ATTR !== !1, U = e.SAFE_FOR_TEMPLATES || !1, oe = e.SAFE_FOR_XML !== !1, x = e.WHOLE_DOCUMENT || !1, F = e.RETURN_DOM || !1, ie = e.RETURN_DOM_FRAGMENT || !1, ae = e.RETURN_TRUSTED_TYPE || !1, Se = e.FORCE_BODY || !1, je = e.SANITIZE_DOM !== !1, Ve = e.SANITIZE_NAMED_PROPS || !1, Re = e.KEEP_CONTENT !== !1, $ = e.IN_PLACE || !1, ze = e.ALLOWED_URI_REGEXP || ht, G = e.NAMESPACE || I, le = e.MATHML_TEXT_INTEGRATION_POINTS || le, ce = e.HTML_INTEGRATION_POINTS || ce, m = e.CUSTOM_ELEMENT_HANDLING || {}, e.CUSTOM_ELEMENT_HANDLING && Je(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck) && (m.tagNameCheck = e.CUSTOM_ELEMENT_HANDLING.tagNameCheck), e.CUSTOM_ELEMENT_HANDLING && Je(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck) && (m.attributeNameCheck = e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck), e.CUSTOM_ELEMENT_HANDLING && typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements == \"boolean\" && (m.allowCustomizedBuiltInElements = e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements), U && (he = !1), ie && (F = !0), H && (d = s({}, pt), E = [], H.html === !0 && (s(d, mt), s(E, dt)), H.svg === !0 && (s(d, Me), s(E, Pe), s(E, ue)), H.svgFilters === !0 && (s(d, we), s(E, Pe), s(E, ue)), H.mathMl === !0 && (s(d, xe), s(E, Tt), s(E, ue))), e.ADD_TAGS && (typeof e.ADD_TAGS == \"function\" ? k.tagCheck = e.ADD_TAGS : (d === Ge && (d = w(d)), s(d, e.ADD_TAGS, T))), e.ADD_ATTR && (typeof e.ADD_ATTR == \"function\" ? k.attributeCheck = e.ADD_ATTR : (E === We && (E = w(E)), s(E, e.ADD_ATTR, T))), e.ADD_URI_SAFE_ATTR && s(Oe, e.ADD_URI_SAFE_ATTR, T), e.FORBID_CONTENTS && (z === $e && (z = w(z)), s(z, e.FORBID_CONTENTS, T)), Re && (d[\"#text\"] = !0), x && s(d, [\"html\", \"head\", \"body\"]), d.table && (s(d, [\"tbody\"]), delete V.tbody), e.TRUSTED_TYPES_POLICY) { if (typeof e.TRUSTED_TYPES_POLICY.createHTML != \"function\") throw J('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.'); if (typeof e.TRUSTED_TYPES_POLICY.createScriptURL != \"function\") throw J('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.'); h = e.TRUSTED_TYPES_POLICY, j = h.createHTML(\"\") } else h === void 0 && (h = pn(te, f)), h !== null && typeof j == \"string\" && (j = h.createHTML(\"\")); R && R(e), W = e } }, \"_parseConfig\"), Qe = s({}, [...Me, ...we, ...tn]), et = s({}, [...xe, ...nn]), Bt = c(function (e) { let t = ne(e); (!t || !t.tagName) && (t = { namespaceURI: G, tagName: \"template\" }); let n = me(e.tagName), u = me(t.tagName); return Le[e.namespaceURI] ? e.namespaceURI === se ? t.namespaceURI === I ? n === \"svg\" : t.namespaceURI === re ? n === \"svg\" && (u === \"annotation-xml\" || le[u]) : !!Qe[n] : e.namespaceURI === re ? t.namespaceURI === I ? n === \"math\" : t.namespaceURI === se ? n === \"math\" && ce[u] : !!et[n] : e.namespaceURI === I ? t.namespaceURI === se && !ce[u] || t.namespaceURI === re && !le[u] ? !1 : !et[n] && (Ht[n] || !Qe[n]) : !!(q === \"application/xhtml+xml\" && Le[e.namespaceURI]) : !1 }, \"_checkValidNamespace\"), N = c(function (e) { K(o.removed, { element: e }); try { ne(e).removeChild(e) } catch { bt(e) } }, \"_forceRemove\"), P = c(function (e, t) { try { K(o.removed, { attribute: t.getAttributeNode(e), from: t }) } catch { K(o.removed, { attribute: null, from: t }) } if (t.removeAttribute(e), e === \"is\") if (F || ie) try { N(t) } catch { } else try { t.setAttribute(e, \"\") } catch { } }, \"_removeAttribute\"), tt = c(function (e) { let t = null, n = null; if (Se) e = \"<remove></remove>\" + e; else { let p = Ce(e, /^[\\r\\n\\t ]+/); n = p && p[0] } q === \"application/xhtml+xml\" && G === I && (e = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + e + \"</body></html>\"); let u = h ? h.createHTML(e) : e; if (G === I) try { t = new yt().parseFromString(u, q) } catch { } if (!t || !t.documentElement) { t = de.createDocument(G, \"template\", null); try { t.documentElement.innerHTML = ye ? j : u } catch { } } let g = t.body || t.documentElement; return e && n && g.insertBefore(l.createTextNode(n), g.childNodes[0] || null), G === I ? Mt.call(t, x ? \"html\" : \"body\")[0] : x ? t.documentElement : g }, \"_initDocument\"), nt = c(function (e) { return It.call(e.ownerDocument || e, e, Y.SHOW_ELEMENT | Y.SHOW_COMMENT | Y.SHOW_TEXT | Y.SHOW_PROCESSING_INSTRUCTION | Y.SHOW_CDATA_SECTION, null) }, \"_createNodeIterator\"), De = c(function (e) { return e instanceof Ot && (typeof e.nodeName != \"string\" || typeof e.textContent != \"string\" || typeof e.removeChild != \"function\" || !(e.attributes instanceof Rt) || typeof e.removeAttribute != \"function\" || typeof e.setAttribute != \"function\" || typeof e.namespaceURI != \"string\" || typeof e.insertBefore != \"function\" || typeof e.hasChildNodes != \"function\") }, \"_isClobbered\"), ot = c(function (e) { return typeof pe == \"function\" && e instanceof pe }, \"_isNode\"); function C(i, e, t) { fe(i, n => { n.call(o, e, t, W) }) } c(C, \"_executeHooks\"); let it = c(function (e) { let t = null; if (C(A.beforeSanitizeElements, e, null), De(e)) return N(e), !0; let n = T(e.nodeName); if (C(A.uponSanitizeElement, e, { tagName: n, allowedTags: d }), oe && e.hasChildNodes() && !ot(e.firstElementChild) && S(/<[/\\w!]/g, e.innerHTML) && S(/<[/\\w!]/g, e.textContent) || e.nodeType === ee.progressingInstruction || oe && e.nodeType === ee.comment && S(/<[/\\w]/g, e.data)) return N(e), !0; if (!(k.tagCheck instanceof Function && k.tagCheck(n)) && (!d[n] || V[n])) { if (!V[n] && rt(n) && (m.tagNameCheck instanceof RegExp && S(m.tagNameCheck, n) || m.tagNameCheck instanceof Function && m.tagNameCheck(n))) return !1; if (Re && !z[n]) { let u = ne(e) || e.parentNode, g = Nt(e) || e.childNodes; if (g && u) { let p = g.length; for (let L = p - 1; L >= 0; --L) { let M = Lt(g[L], !0); M.__removalCount = (e.__removalCount || 0) + 1, u.insertBefore(M, Dt(e)) } } } return N(e), !0 } return e instanceof Fe && !Bt(e) || (n === \"noscript\" || n === \"noembed\" || n === \"noframes\") && S(/<\\/no(script|embed|frames)/i, e.innerHTML) ? (N(e), !0) : (U && e.nodeType === ee.text && (t = e.textContent, fe([Te, Ee, _e], u => { t = Z(t, u, \" \") }), e.textContent !== t && (K(o.removed, { element: e.cloneNode() }), e.textContent = t)), C(A.afterSanitizeElements, e, null), !1) }, \"_sanitizeElements\"), at = c(function (e, t, n) { if (je && (t === \"id\" || t === \"name\") && (n in l || n in Wt)) return !1; if (!(he && !ge[t] && S(xt, t))) { if (!(Be && S(Pt, t))) { if (!(k.attributeCheck instanceof Function && k.attributeCheck(t, e))) { if (!E[t] || ge[t]) { if (!(rt(e) && (m.tagNameCheck instanceof RegExp && S(m.tagNameCheck, e) || m.tagNameCheck instanceof Function && m.tagNameCheck(e)) && (m.attributeNameCheck instanceof RegExp && S(m.attributeNameCheck, t) || m.attributeNameCheck instanceof Function && m.attributeNameCheck(t, e)) || t === \"is\" && m.allowCustomizedBuiltInElements && (m.tagNameCheck instanceof RegExp && S(m.tagNameCheck, n) || m.tagNameCheck instanceof Function && m.tagNameCheck(n)))) return !1 } else if (!Oe[t]) { if (!S(ze, Z(n, He, \"\"))) { if (!((t === \"src\" || t === \"xlink:href\" || t === \"href\") && e !== \"script\" && Zt(n, \"data:\") === 0 && qe[e])) { if (!(Ye && !S(vt, Z(n, He, \"\")))) { if (n) return !1 } } } } } } } return !0 }, \"_isValidAttribute\"), rt = c(function (e) { return e !== \"annotation-xml\" && Ce(e, kt) }, \"_isBasicCustomElement\"), st = c(function (e) { C(A.beforeSanitizeAttributes, e, null); let { attributes: t } = e; if (!t || De(e)) return; let n = { attrName: \"\", attrValue: \"\", keepAttr: !0, allowedAttributes: E, forceKeepAttr: void 0 }, u = t.length; for (; u--;) { let g = t[u], { name: p, namespaceURI: L, value: M } = g, B = T(p), Ne = M, _ = p === \"value\" ? Ne : Jt(Ne); if (n.attrName = B, n.attrValue = _, n.keepAttr = !0, n.forceKeepAttr = void 0, C(A.uponSanitizeAttribute, e, n), _ = n.attrValue, Ve && (B === \"id\" || B === \"name\") && (P(p, e), _ = Ut + _), oe && S(/((--!?|])>)|<\\/(style|title|textarea)/i, _)) { P(p, e); continue } if (B === \"attributename\" && Ce(_, \"href\")) { P(p, e); continue } if (n.forceKeepAttr) continue; if (!n.keepAttr) { P(p, e); continue } if (!Xe && S(/\\/>/i, _)) { P(p, e); continue } U && fe([Te, Ee, _e], ct => { _ = Z(_, ct, \" \") }); let lt = T(e.nodeName); if (!at(lt, B, _)) { P(p, e); continue } if (h && typeof te == \"object\" && typeof te.getAttributeType == \"function\" && !L) switch (te.getAttributeType(lt, B)) { case \"TrustedHTML\": { _ = h.createHTML(_); break } case \"TrustedScriptURL\": { _ = h.createScriptURL(_); break } }if (_ !== Ne) try { L ? e.setAttributeNS(L, p, _) : e.setAttribute(p, _), De(e) ? N(e) : ut(o.removed) } catch { P(p, e) } } C(A.afterSanitizeAttributes, e, null) }, \"_sanitizeAttributes\"), Yt = c(function i(e) { let t = null, n = nt(e); for (C(A.beforeSanitizeShadowDOM, e, null); t = n.nextNode();)C(A.uponSanitizeShadowNode, t, null), it(t), st(t), t.content instanceof y && i(t.content); C(A.afterSanitizeShadowDOM, e, null) }, \"_sanitizeShadowDOM\"); return o.sanitize = function (i) { let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, t = null, n = null, u = null, g = null; if (ye = !i, ye && (i = \"<!-->\"), typeof i != \"string\" && !ot(i)) if (typeof i.toString == \"function\") { if (i = i.toString(), typeof i != \"string\") throw J(\"dirty is not a string, aborting\") } else throw J(\"toString is not a function\"); if (!o.isSupported) return i; if (Ae || be(e), o.removed = [], typeof i == \"string\" && ($ = !1), $) { if (i.nodeName) { let M = T(i.nodeName); if (!d[M] || V[M]) throw J(\"root node is forbidden and cannot be sanitized in-place\") } } else if (i instanceof pe) t = tt(\"<!---->\"), n = t.ownerDocument.importNode(i, !0), n.nodeType === ee.element && n.nodeName === \"BODY\" || n.nodeName === \"HTML\" ? t = n : t.appendChild(n); else { if (!F && !U && !x && i.indexOf(\"<\") === -1) return h && ae ? h.createHTML(i) : i; if (t = tt(i), !t) return F ? null : ae ? j : \"\" } t && Se && N(t.firstChild); let p = nt($ ? i : t); for (; u = p.nextNode();)it(u), st(u), u.content instanceof y && Yt(u.content); if ($) return i; if (F) { if (ie) for (g = Ct.call(t.ownerDocument); t.firstChild;)g.appendChild(t.firstChild); else g = t; return (E.shadowroot || E.shadowrootmode) && (g = wt.call(a, g, !0)), g } let L = x ? t.outerHTML : t.innerHTML; return x && d[\"!doctype\"] && t.ownerDocument && t.ownerDocument.doctype && t.ownerDocument.doctype.name && S(At, t.ownerDocument.doctype.name) && (L = \"<!DOCTYPE \" + t.ownerDocument.doctype.name + `>` + L), U && fe([Te, Ee, _e], M => { L = Z(L, M, \" \") }), h && ae ? h.createHTML(L) : L }, o.setConfig = function () { let i = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}; be(i), Ae = !0 }, o.clearConfig = function () { W = null, Ae = !1 }, o.isValidAttribute = function (i, e, t) { W || be({}); let n = T(i), u = T(e); return at(n, u, t) }, o.addHook = function (i, e) { typeof e == \"function\" && K(A[i], e) }, o.removeHook = function (i, e) { if (e !== void 0) { let t = qt(A[i], e); return t === -1 ? void 0 : Kt(A[i], t, 1)[0] } return ut(A[i]) }, o.removeHooks = function (i) { A[i] = [] }, o.removeAllHooks = function () { A = _t() }, o } c(St, \"createDOMPurify\"); var DOMPurify = St();\r\n\r\n    // trusted types is a browser security feature which alllows you to safely inject HTML, so no dangerous user input is taken as executable code\r\n    // while I do not take any user input, this is required as Youtube uses trusted types by default\r\n\r\n    // definy a trusted types variable\r\n    let IframeTubeTT = false;\r\n    // if trusted types is supported on the page (e.g. not all browsers support them)\r\n    if (window.trustedTypes && window.trustedTypes.createPolicy) {\r\n        // create a custom trusted types policy\r\n        IframeTubeTT = window.trustedTypes.createPolicy('IframeTubePolicy', {\r\n            // sanitize the HTML, and return it as a trusted types string\r\n            createHTML: (input) => DOMPurify.sanitize(input, { RETURN_TRUSTED_TYPE: true }),\r\n        });\r\n    }\r\n\r\n    /*\r\n    -------------- IframeTube helper functions ----------------------------\r\n    */\r\n\r\n    // helper to set inner html on an element\r\n    function IframeTube_setInnerHTML(element, html) {\r\n        // if trusted types exist, use them to create html\r\n        if (IframeTubeTT) {\r\n            element.innerHTML = IframeTubeTT.createHTML(html);\r\n        }\r\n        // otherwise, just set the html normally\r\n        else {\r\n            element.innerHTML = html;\r\n        }\r\n    }\r\n\r\n    // helper to insert adjacent html on an element\r\n    function IframeTube_insertAdjacentHTML(element, position, html) {\r\n        // if trusted types exist, use them to create html\r\n        if (IframeTubeTT) {\r\n            element.insertAdjacentHTML(position, IframeTubeTT.createHTML(html));\r\n        }\r\n        // otherwise, just set the html normally\r\n        else {\r\n            element.insertAdjacentHTML(position, html);\r\n        }\r\n    }\r\n\r\n    // helper to extract parameters from the embedded iframe URL\r\n    function IframeTube_setupExtractParams() {\r\n        let query = document.location.href.split('?')[1];\r\n        let vars = query.split('&');\r\n        let params = {};\r\n        for (let i = 0; i < vars.length; i++) {\r\n            let pair = vars[i].split('=');\r\n            if (pair[0]) params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\r\n        }\r\n        return params;\r\n    }\r\n\r\n    /*\r\n    -------------- IframeTube global variables ----------------------------\r\n    */\r\n\r\n    // iframe API reference\r\n    let IframeTube_iframe_api = false;\r\n\r\n    // indicates if autoplay is on or off\r\n    let IframeTube_autoPlay = false;\r\n\r\n    // indicates if we are on a playlist\r\n    let IframeTube_playlist = false;\r\n\r\n    // exposes the theateter icons globally\r\n    let IframeTube_theater_theaterIcon = false;\r\n    let IframeTube_theater_defaultIcon = false;\r\n\r\n    // exposes the autoplay tooltips globally\r\n    let IframeTube_autoplay_enabledTooltip = false;\r\n    let IframeTube_autoplay_disabledTooltip = false;\r\n\r\n    // setups the extract params function\r\n    let IframeTube_extractParams = IframeTube_setupExtractParams();\r\n\r\n    /*\r\n    -------------- Embedded player functions ----------------------------\r\n    */\r\n\r\n    // listen for messages from the proxy iframe\r\n    function IframeTube_postMessageListener(message) {\r\n        // if the message is not valid, do not proceed\r\n        if (typeof message.data !== 'string') {\r\n            return;\r\n        }\r\n\r\n        // shortcuts from the top window that are passed to the video\r\n        else if (message.data.startsWith('IframeTube_shortcut_')) {\r\n            // get the video element\r\n            let video = document.querySelector('video');\r\n            // if it exists\r\n            if (video) {\r\n                // get the message information\r\n\r\n                let parts = message.data.split('_'); // split it by '_'\r\n                let eventType = parts[2]; // event type\r\n                let key = parts[3]; // event key\r\n                let shiftKey = parts[4] === 'true'; // if we held the shift key\r\n                let code = parts[5]; // key code\r\n\r\n                // if the key is the spacebar\r\n                if (key === ' ') {\r\n                    // focus the video element without scrolling to it\r\n                    video.focus({ preventScroll: true });\r\n                    // dispatch the space shortcut to the video element\r\n                    video.dispatchEvent(new KeyboardEvent('keydown', { key: ' ', code: 'Space', bubbles: true }));\r\n                }\r\n\r\n                // otherwise, dispatch the shortcut without focusing the video\r\n                else {\r\n                    let keyboardEvent = new KeyboardEvent(eventType, {\r\n                        key: key,\r\n                        keyCode: parseFloat(code),\r\n                        shiftKey: shiftKey,\r\n                        ctrlKey: false,\r\n                        altKey: false,\r\n                        metaKey: false,\r\n                        bubbles: true,\r\n                        cancelable: true,\r\n                    });\r\n                    video.dispatchEvent(keyboardEvent);\r\n                }\r\n            }\r\n        }\r\n\r\n        // load the video via the iframe api, this does NOT reload the embedded iframe\r\n        else if (message.data.startsWith('IframeTube_api_')) {\r\n\r\n            // get the data from the message\r\n            let data = message.data.split('|'); // split the message by '|'\r\n            let videoId = data[0].replace('IframeTube_api_', ''); // get the video ID\r\n            let startTime = parseFloat(data[1].replace('&start=', '')); // get the start time without the &start parameter\r\n\r\n            // call the function to load the video by ID and start time\r\n            IframeTube_api_loadVideoById(videoId, startTime);\r\n        }\r\n\r\n        // seek to a specific time in the video\r\n        else if (message.data.startsWith('IframeTube_seekTo_')) {\r\n            let data = message.data.split('IframeTube_seekTo_')[1];\r\n            let time = parseFloat(data);\r\n            // call the function to seek to that time\r\n            IframeTube_video_seekTo(time);\r\n        }\r\n\r\n        // set the theater attribute on the theater button\r\n        else if (message.data.startsWith('IframeTube_theaterButtonAttribute_')) {\r\n            let data = message.data.replace('IframeTube_theaterButtonAttribute_', '');\r\n            // call the function to set it\r\n            IframeTube_theaterButtonAttribute(data);\r\n        }\r\n\r\n        // set the theater icon\r\n        else if (message.data === 'IframeTube_setTheaterIcon') {\r\n            IframeTube_setTheaterIcon('theaterIcon');\r\n        }\r\n\r\n        // set the default theater icon\r\n        else if (message.data === 'IframeTube_setDefaultIcon') {\r\n            IframeTube_setTheaterIcon('defaultIcon');\r\n        }\r\n\r\n        // set the copied auto play attributes\r\n        else if (message.data.startsWith('IframeTube_setAutoplayAttributes_')) {\r\n            let data = message.data.replace('IframeTube_setAutoplayAttributes_', '');\r\n            let parts = data.split('|');\r\n            // expose the globally\r\n            IframeTube_autoplay_enabledTooltip = parts[0];\r\n            IframeTube_autoplay_disabledTooltip = parts[1];\r\n        }\r\n\r\n        // enable the previous button in the embedded player\r\n        else if (message.data === 'IframeTube_enablePrevButton') {\r\n            // also update the playlist flag to true\r\n            IframeTube_playlist = true;\r\n            IframeTube_enablePrevButton();\r\n        }\r\n\r\n        // disable the previous button in the embedded player\r\n        else if (message.data === 'IframeTube_disablePrevButton') {\r\n            // also update the playlist flag to false\r\n            IframeTube_playlist = false;\r\n            IframeTube_disablePrevButton();\r\n        }\r\n\r\n        // set the next video preview attributes on the next button\r\n        else if (message.data.startsWith('IframeTube_nextVideoPreview_')) {\r\n            // extract the attributes from the post message\r\n            let data = JSON.parse(message.data.replace('IframeTube_nextVideoPreview_', ''));\r\n            let shortcutTitle = data.shortcutTitle;\r\n            let videoTitle = data.videoTitle;\r\n            let videoThumbnail = data.videoThumbnail;\r\n            // call the function\r\n            IframeTube_nextVideoPreview(shortcutTitle, videoTitle, videoThumbnail);\r\n        }\r\n\r\n        // set the previous video preview attributes on the previous button\r\n        else if (message.data.startsWith('IframeTube_prevVideoPreview_')) {\r\n            let data = JSON.parse(message.data.replace('IframeTube_prevVideoPreview_', ''));\r\n            // extract the attributes from the post message\r\n            let shortcutTitle = data.shortcutTitle;\r\n            let videoTitle = data.videoTitle;\r\n            let videoThumbnail = data.videoThumbnail;\r\n            // call the function\r\n            IframeTube_prevVideoPreview(shortcutTitle, videoTitle, videoThumbnail);\r\n        }\r\n\r\n        // mute and pause the embedded player\r\n        else if (message.data === 'IframeTube_stopPlayback') {\r\n            IframeTube_video_pause();\r\n            IframTube_video_mute();\r\n        }\r\n        // play and unmute the embedded player (currently unused)\r\n        else if (message.data === 'IframeTube_resumePlayback') {\r\n            IframeTube_video_play();\r\n            IframeTube_video_unmute();\r\n        }\r\n    }\r\n\r\n    // get the current time, round it, and send it to the main player\r\n    function IframeTube_syncMainPlayer() {\r\n\r\n        // refetch the iframe api\r\n        IframeTube_iframe_api = document.getElementById('movie_player')\r\n\r\n        // make sure it exists, and get current time is available\r\n        if (IframeTube_iframe_api && IframeTube_iframe_api.getCurrentTime) {\r\n\r\n            // get the current time\r\n            let currentTime = IframeTube_iframe_api.getCurrentTime();\r\n\r\n            // round it\r\n            currentTime = Math.round(currentTime);\r\n\r\n            // sent it to the top window (this is where the main player is)\r\n            window.top.postMessage('IframeTube_syncPlayer_' + currentTime, '*');\r\n        }\r\n    }\r\n\r\n    // fix end screen links (so the open in the same window, or via SPA)\r\n    function IframeTube_endScreenLinks() {\r\n        // select all the info and endscreen cards that are NOT fixed\r\n        let endScreenLinks = document.querySelectorAll('.ytp-ce-covering-overlay:not(.IframeTube_link), .ytp-videowall-still:not(.IframeTube_link)');\r\n        // loop through all of them\r\n        endScreenLinks.forEach(link => {\r\n            // add an event listener for click\r\n            link.addEventListener('click', (e) => {\r\n                // prevent the default browser and Youtube listeners action\r\n                e.preventDefault();\r\n                e.stopImmediatePropagation();\r\n\r\n                // extract the link\r\n                let url = link.getAttribute('href');\r\n                // send it to the top window\r\n                window.top.postMessage('IframeTube_endScreen_' + url, '*');\r\n\r\n            }, true);\r\n            // prevent default action for mousedown\r\n            link.addEventListener('mousedown', (event) => {\r\n                event.preventDefault();\r\n                event.stopImmediatePropagation();\r\n            }, true);\r\n\r\n            // prevent default action for mouseup\r\n            link.addEventListener('mouseup', (event) => {\r\n                event.preventDefault();\r\n                event.stopImmediatePropagation();\r\n            }, true);\r\n\r\n            // mark it as fixed\r\n            link.classList.add('IframeTube_link');\r\n        });\r\n    }\r\n\r\n    // hide the embedded player’s end screen\r\n    let IframeTube_hideEndScreen_timeout = false;\r\n    function IframeTube_hideEndScreen() {\r\n        let player = document.querySelector('.html5-video-player'); // get the player\r\n        let endScreen = player.querySelector('.html5-endscreen'); // get the end screen inside the player\r\n        // if they both exist\r\n        if (player && endScreen) {\r\n            // and if the end screen does not contain the IframeTube_hideEndScreen class, add it\r\n            if (endScreen && !endScreen.classList.contains('IframeTube_hideEndScreen')) {\r\n                endScreen.classList.add('IframeTube_hideEndScreen');;\r\n            }\r\n        }\r\n        // otheriwse, retry in 100ms until they both exist\r\n        else {\r\n            clearTimeout(IframeTube_hideEndScreen_timeout);\r\n            IframeTube_hideEndScreen_timeout = setTimeout(IframeTube_hideEndScreen, 100);\r\n            return;\r\n        }\r\n    }\r\n\r\n    // show the embedded player’s end screen\r\n    let IframeTube_showEndScreen_timeout = false;\r\n    function IframeTube_showEndScreen() {\r\n        let player = document.querySelector('.html5-video-player'); // get the player\r\n        let endScreen = player.querySelector('.html5-endscreen'); // get the end screen inside the player\r\n        // if they both exist\r\n        if (player && endScreen) {\r\n            // and if the end screen does not contain the IframeTube_hideEndScreen class, add it\r\n            if (endScreen && endScreen.classList.contains('IframeTube_hideEndScreen')) {\r\n                endScreen.classList.remove('IframeTube_hideEndScreen');\r\n            }\r\n        }\r\n        // otheriwse, retry in 100ms until they both exist\r\n        else {\r\n            clearTimeout(IframeTube_showEndScreen_timeout);\r\n            IframeTube_showEndScreen_timeout = setTimeout(IframeTube_showEndScreen, 100);\r\n            return;\r\n        }\r\n    }\r\n\r\n    // injects custom CSS to make the player look like the native one\r\n    function IframeTube_player_style() {\r\n        let style = document.createElement('style');\r\n        style.textContent = `\r\n\r\n        /* hides unwanted elements */\r\n        .ytp-small-redirect,\r\n        .ytp-related-on-error-overlay,\r\n        .ytp-error-content-wrap-subreason > div,\r\n        .ytp-error ~ .ytp-chrome-top,\r\n        .ytp-error ~ .ytp-chrome-bottom,\r\n        .ytp-info-panel-preview,\r\n        .ytp-paid-content-overlay,\r\n        .ytp-ad-progress-list,\r\n        .ytp-cued-thumbnail-overlay,\r\n        .ytp-endscreen-previous,\r\n        .ytp-show-cards-title,\r\n        .ytp-endscreen-next,\r\n        .ytp-gradient-top,\r\n        .ytp-pause-overlay,\r\n        .ytp-youtube-button,\r\n        .ytp-generic-popup,\r\n        .ytp-impression-link {\r\n            display: none !important;\r\n        }\r\n\r\n        /* fixes a big gab between the top of the player and the end screen */\r\n        .html5-endscreen {\r\n            top: 0 !important;\r\n        }\r\n\r\n        /* hides the end screen if it contains the 'IframeTube_hideEndScreen' class */\r\n        .html5-endscreen.IframeTube_hideEndScreen {\r\n            display: none !important;\r\n        }\r\n\r\n        /* hides the Youtube tooltip if it is empty, this prevents the native tooltip showing on the theater button */\r\n        .ytp-tooltip:has(span.ytp-tooltip-text:empty) {\r\n            display: none !important;\r\n        }\r\n\r\n        /* enables the 'Theater' button */\r\n        .ytp-size-button {\r\n            display: inline-block !important;\r\n        }\r\n\r\n        /* enables the 'Picture In Picture button' */\r\n        .ytp-pip-button {\r\n            display: inline-block !important;\r\n        }\r\n\r\n        /* enables the 'Next Button' for all videos and forces cursor to be a pointer */\r\n        .ytp-next-button {\r\n            display: block !important;\r\n            opacity: 1 !important;\r\n            cursor: pointer !important;\r\n        }\r\n\r\n        /* enables the 'Previous Button' for playlist videos if it contains the 'IframeTube_enabled' class */\r\n        .ytp-prev-button.IframeTube_enabled {\r\n            display: block !important;\r\n            opacity: 1 !important;\r\n            cursor: pointer !important;\r\n        }\r\n            \r\n        /* makes the position relative for absolute positioning of the tooltip */\r\n        #IframeTube_autoplayButton {\r\n            position: relative;\r\n            overflow: visible;\r\n        }\r\n\r\n        /* styles our custom tooltip for the autoplay button */\r\n        #IframeTube_autoplayButton .ytp-autonav-toggle-button.IframeTube_visible::before {\r\n        /* mirrors native Youtube attributes to make it look as similar as possible */\r\n\t\t\tpointer-events: none;\r\n\t\t\topacity: 0;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: -49px;\r\n\t\t\tleft: 50%;\r\n\t\t\ttransform: translateX(-50%);\r\n\t\t\tbackground: rgba(28, 28, 28, 0.9);\r\n\t\t\tcolor: #ffffff;\r\n\t\t\tborder-radius: 4px;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tfont-size: 12.98px;\r\n\t\t\tpadding-left: 9px;\r\n\t\t\tpadding-right: 9px;\r\n\t\t\tpadding-bottom: 0;\r\n\t\t\theight: 25px;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tline-height: 25px;\r\n\t\t\tfont-family: \"YouTube Noto\", Roboto, Arial, sans-serif;\r\n\t\t\twhite-space: nowrap;\r\n            content: attr(data-label);\r\n        }\r\n\r\n        /* shows the tooltip on hover and on tab navigation */\r\n        #IframeTube_autoplayButton:focus-visible .ytp-autonav-toggle-button::before,\r\n        #IframeTube_autoplayButton:hover .ytp-autonav-toggle-button::before {\r\n            opacity: 1;\r\n        }\r\n\r\n        /* makes the position relative for absolute positioning of the tooltip */\r\n        .ytp-size-button {\r\n            position: relative !important;\r\n            overflow: visible !important;\r\n        }\r\n\r\n        /* style our custom tooltip for the theater button (mirrors the native Youtube attributes to make it look as similar as possible) */\r\n        .ytp-size-button.IframeTube_visible::before {\r\n\t\t\tpointer-events: none;\r\n\t\t\topacity: 0;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: -35px;\r\n\t\t\tleft: 50%;\r\n\t\t\ttransform: translateX(-50%);\r\n\t\t\tbackground: rgba(28, 28, 28, 0.9);\r\n\t\t\tcolor: #ffffff;\r\n\t\t\tborder-radius: 4px;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tfont-size: 12.98px;\r\n\t\t\tpadding-left: 9px;\r\n\t\t\tpadding-right: 9px;\r\n\t\t\tpadding-bottom: 0;\r\n\t\t\theight: 25px;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tline-height: 25px;\r\n\t\t\tfont-family: \"YouTube Noto\", Roboto, Arial, sans-serif;\r\n\t\t\twhite-space: nowrap;\r\n            content: attr(data-label);\r\n        }\r\n\r\n        /* shows the tooltip on hover and on tab navigation */\r\n        .ytp-size-button:focus-visible::before,\r\n        .ytp-size-button:hover::before {\r\n            opacity: 1;\r\n        }\r\n\r\n        /* when the button contains the 'long-tooltip' class, move it 23 pixels to the left from its center position (prevents longer tooltips from not fully fitting) */\r\n        .ytp-size-button.long-tooltip::before {\r\n            transform: translateX(calc(-50% - 23px));\r\n        }\r\n\r\n        /* hides the theater and PIP button in full screen (native’s player behavior) */\r\n        :fullscreen .ytp-pip-button,\r\n        :fullscreen .ytp-size-button {\r\n            pointer-events: none !important;\r\n            left: -9999px !important;\r\n            top : -9999px !important;\r\n            opacity: 0 !important;\r\n            position: fixed !important;\r\n        }\r\n\r\n        /* moves the video title 36 pixels to the right (we hide the channel icon, so we do this to include the space like the native player) */\r\n        :fullscreen .ytp-show-cards-title .ytp-title-text {\r\n            padding-left: 36px !important;\r\n        }\r\n\r\n        /* shows the title and the black thingy around it when in full screen */\r\n        :fullscreen .ytp-gradient-top,\r\n        :fullscreen .ytp-show-cards-title {\r\n            display: block !important;\r\n        }\r\n\r\n        /* hide the black thingy in speeding mode, hides the channel icon, and hides the Youtube buttons (e.g. share) in full screen */\r\n        :fullscreen .ytp-gradient-top.IframeTube_speeding,\r\n        :fullscreen .ytp-show-cards-title .ytp-button,\r\n        :fullscreen .ytp-show-cards-title .ytp-title-channel {\r\n            display: none !important;\r\n        }\r\n    `;\r\n        // append the styles\r\n        document.head.appendChild(style);\r\n    }\r\n\r\n    // enable the previous button for playlists\r\n    function IframeTube_enablePrevButton() {\r\n        let prevButton = document.querySelector('.ytp-prev-button');\r\n        // if it exists and does not contain the 'IframeTube_enabled'\r\n        if (prevButton && !prevButton.classList.contains('IframeTube_enabled')) {\r\n            // add the 'IframeTube_enabled' class\r\n            prevButton.classList.add('IframeTube_enabled');\r\n        }\r\n\r\n        // sanity check for a playlist\r\n        if (IframeTube_playlist) {\r\n            // hide the end screen\r\n            IframeTube_hideEndScreen();\r\n        }\r\n    }\r\n\r\n    // disable the previous button for non playlist videos\r\n    function IframeTube_disablePrevButton() {\r\n        let prevButton = document.querySelector('.ytp-prev-button');\r\n        // if it exists and does contain the 'IframeTube_enabled'\r\n        if (prevButton && prevButton.classList.contains('IframeTube_enabled')) {\r\n            // remove the 'IframeTube_enabled' class\r\n            prevButton.classList.remove('IframeTube_enabled');\r\n        }\r\n    }\r\n\r\n    // update the next tooltip to the current preview of the next video\r\n    function IframeTube_nextVideoPreview(shortcutTitle, videoTitle, videoThumbnail) {\r\n        // get the shortcut text\r\n        let shortcutText = document.getElementById('IframeTube_NextShortcutText');\r\n        if (shortcutText) {\r\n            // set its text to the current shortcut title\r\n            shortcutText.textContent = shortcutTitle;\r\n        }\r\n\r\n        // get the video title\r\n        let nextVideoTitle = document.getElementById('IframeTube_NextVideoTitle');\r\n        if (nextVideoTitle) {\r\n            // set its text to the current next video title\r\n            nextVideoTitle.textContent = videoTitle;\r\n        }\r\n\r\n        // get the video image\r\n        let nextVideoImage = document.getElementById('IframeTube_nextVideoImage');\r\n        if (nextVideoImage) {\r\n            // set its background image to the video thumbnail\r\n            nextVideoImage.style.backgroundImage = 'url(\"' + videoThumbnail + '\")';\r\n        }\r\n\r\n        // update the position of the tooltip\r\n        IframeTube_positionNextTooltip();\r\n    }\r\n\r\n    // positions the next tooltip based on client rect\r\n    let IframeTube_positionNextTooltip_timeout = false;\r\n    function IframeTube_positionNextTooltip() {\r\n\r\n        // get the next button and next tooltip text\r\n        let nextButton = document.querySelector('.ytp-next-button');\r\n        let nextTooltip = document.getElementById('IframeTube_nextTooltip');\r\n        // if they both exist\r\n        if (nextButton && nextTooltip) {\r\n            // get the client rect and tooltip height\r\n            let rect = nextButton.getBoundingClientRect();\r\n            let tooltipHeight = nextTooltip.offsetHeight;\r\n\r\n            // if we are on a playlist, position the tooltip like this to make it as accurate as the native one\r\n            if (IframeTube_playlist) {\r\n                nextTooltip.style.top = (rect.top - tooltipHeight - 10) + 'px';\r\n                nextTooltip.style.left = (rect.left + rect.width / 2 - nextTooltip.offsetWidth / 2 + 18) + 'px';\r\n            }\r\n\r\n            // otherwise, position it the same but move it a bit more to the right, as the previous button is disabled\r\n            else if (!IframeTube_playlist) {\r\n                nextTooltip.style.top = (rect.top - tooltipHeight - 10) + 'px';\r\n                nextTooltip.style.left = (rect.left + rect.width / 2 - nextTooltip.offsetWidth / 2 + 57) + 'px';\r\n            }\r\n        }\r\n        // otherwise, retry in 100ms until they exist\r\n        else {\r\n            clearTimeout(IframeTube_positionNextTooltip_timeout)\r\n            IframeTube_positionNextTooltip_timeout = setTimeout(IframeTube_positionNextTooltip, 100)\r\n            return;\r\n        }\r\n    }\r\n\r\n    // update the previous tooltip to the current preview of the next video\r\n    function IframeTube_prevVideoPreview(shortcutTitle, videoTitle, videoThumbnail) {\r\n        // get the shortcut text\r\n        let shortcutText = document.getElementById('IframeTube_prevShortcutText');\r\n        if (shortcutText) {\r\n            // set its text to the current shortcut title\r\n            shortcutText.textContent = shortcutTitle;\r\n        }\r\n\r\n        // get the video title\r\n        let prevVideoTitle = document.getElementById('IframeTube_prevVideoTitle');\r\n        if (prevVideoTitle) {\r\n            // set its text to the current next video title\r\n            prevVideoTitle.textContent = videoTitle;\r\n        }\r\n\r\n        // get the video image\r\n        let prevVideoImage = document.getElementById('IframeTube_prevVideoImage');\r\n        if (prevVideoImage) {\r\n            // set its background image to the video thumbnail\r\n            prevVideoImage.style.backgroundImage = 'url(\"' + videoThumbnail + '\")';\r\n        }\r\n\r\n        // update the position of the tooltip\r\n        IframeTube_positionPrevTooltip();\r\n    }\r\n\r\n    // positions the previous tooltip based on client rect\r\n    function IframeTube_positionPrevTooltip() {\r\n        // get the previous button and previous button tooltip\r\n        let prevButton = document.querySelector('.ytp-prev-button');\r\n        let prevTooltip = document.getElementById('IframeTube_prevTooltip');\r\n\r\n        // if they both exist\r\n        if (prevButton && prevTooltip) {\r\n            // get the client rect and tooltip height\r\n            let rect = prevButton.getBoundingClientRect();\r\n            let tooltipHeight = prevTooltip.offsetHeight;\r\n\r\n            // position the tooltip like this to make it as accurate as the native one\r\n            prevTooltip.style.top = (rect.top - tooltipHeight - 10) + 'px';\r\n            prevTooltip.style.left = (rect.left + rect.width / 2 - prevTooltip.offsetWidth / 2 + 103) + 'px';\r\n        }\r\n    }\r\n\r\n    // the previous button has two tooltips: one that shows if the video’s current time is less then 3 seconds (plays the previous video)\r\n    // and a second one that shows if the video’s current time is 3 or more seconds (skips to the start of the video)\r\n\r\n    // creates and positions the replay tooltip\r\n    function IframeTube_replayTooltip() {\r\n        // gets the previous button and the replay tooltip\r\n        let prevButton = document.querySelector('.ytp-prev-button');\r\n        let replayTooltip = document.getElementById('IframeTube_replayTooltip');\r\n        // if it does not exist\r\n        if (!replayTooltip) {\r\n            // there is no reliable way to copy the 'Replay' tooltip from the player, that is why we instead create this array with the translated text in all the supported languages\r\n            let replayTooltips = [{ \"code\": \"af\", \"text\": \"Herhaal\" }, { \"code\": \"sq\", \"text\": \"Përsëritje\" }, { \"code\": \"am\", \"text\": \"እንደገና አጫውት።\" }, { \"code\": \"ar\", \"text\": \"إعادة التشغيل\" }, { \"code\": \"hy\", \"text\": \"Կրկնել\" }, { \"code\": \"as\", \"text\": \"পুনৰ খেলা\" }, { \"code\": \"ay\", \"text\": \"wasitat anatt’aña\" }, { \"code\": \"az\", \"text\": \"Təkrar çalın\" }, { \"code\": \"bm\", \"text\": \"Segin ka kɛ\" }, { \"code\": \"eu\", \"text\": \"Erreprodukzioa\" }, { \"code\": \"be\", \"text\": \"Паўтор\" }, { \"code\": \"bn\", \"text\": \"রিপ্লে\" }, { \"code\": \"bho\", \"text\": \"रिप्ले के बा\" }, { \"code\": \"bs\", \"text\": \"ponovljena reprodukcija\" }, { \"code\": \"bg\", \"text\": \"Повторение\" }, { \"code\": \"ca\", \"text\": \"Repetició\" }, { \"code\": \"ceb\", \"text\": \"balik-balikon\" }, { \"code\": \"ny\", \"text\": \"Seweraninso\" }, { \"code\": \"zh-CN\", \"text\": \"重播\" }, { \"code\": \"zh-TW\", \"text\": \"重播\" }, { \"code\": \"co\", \"text\": \"Riproduce\" }, { \"code\": \"hr\", \"text\": \"Replay\" }, { \"code\": \"cs\", \"text\": \"Přehrát znovu\" }, { \"code\": \"da\", \"text\": \"Genafspilning\" }, { \"code\": \"dv\", \"text\": \"ރީޕްލޭ\" }, { \"code\": \"doi\", \"text\": \"रिप्ले ऐ\" }, { \"code\": \"nl\", \"text\": \"Opnieuw afspelen\" }, { \"code\": \"en\", \"text\": \"Replay\" }, { \"code\": \"eo\", \"text\": \"Ripeto\" }, { \"code\": \"et\", \"text\": \"Kordus\" }, { \"code\": \"ee\", \"text\": \"Gbugbɔgawɔ\" }, { \"code\": \"tl\", \"text\": \"I-replay\" }, { \"code\": \"fi\", \"text\": \"Uusinta\" }, { \"code\": \"fr\", \"text\": \"Rejouer\" }, { \"code\": \"fy\", \"text\": \"Replay\" }, { \"code\": \"gl\", \"text\": \"Reprodución\" }, { \"code\": \"ka\", \"text\": \"გამეორება\" }, { \"code\": \"de\", \"text\": \"Wiederholung\" }, { \"code\": \"el\", \"text\": \"Ξαναπαίζω\" }, { \"code\": \"gn\", \"text\": \"Ñembosaraipavẽ jey\" }, { \"code\": \"gu\", \"text\": \"રિપ્લે\" }, { \"code\": \"ht\", \"text\": \"Replay\" }, { \"code\": \"ha\", \"text\": \"Sake kunnawa\" }, { \"code\": \"haw\", \"text\": \"Hoʻokani hou\" }, { \"code\": \"iw\", \"text\": \"מִשְׂחָק חוֹזֵר\" }, { \"code\": \"hi\", \"text\": \"REPLAY\" }, { \"code\": \"hmn\", \"text\": \"Rov ua dua\" }, { \"code\": \"hu\", \"text\": \"Visszajátszás\" }, { \"code\": \"is\", \"text\": \"Endurspilun\" }, { \"code\": \"ig\", \"text\": \"Tinyegharịa\" }, { \"code\": \"ilo\", \"text\": \"Panag-replay\" }, { \"code\": \"id\", \"text\": \"Memutar ulang\" }, { \"code\": \"ga\", \"text\": \"Athimirt\" }, { \"code\": \"it\", \"text\": \"Rigiocare\" }, { \"code\": \"ja\", \"text\": \"リプレイ\" }, { \"code\": \"jw\", \"text\": \"Muter maneh\" }, { \"code\": \"kn\", \"text\": \"ಮರುಪಂದ್ಯ\" }, { \"code\": \"kk\", \"text\": \"Қайталау\" }, { \"code\": \"km\", \"text\": \"ចាក់ឡើងវិញ\" }, { \"code\": \"rw\", \"text\": \"Subiza\" }, { \"code\": \"gom\", \"text\": \"रिप्ले 1\" }, { \"code\": \"ko\", \"text\": \"다시 하다\" }, { \"code\": \"kri\", \"text\": \"Riplay fɔ mek yu go bak\" }, { \"code\": \"ku\", \"text\": \"Dubare lîstin\" }, { \"code\": \"ckb\", \"text\": \"دووبارە یاریکردنەوە\" }, { \"code\": \"ky\", \"text\": \"Кайра ойнотуу\" }, { \"code\": \"lo\", \"text\": \"ຫຼິ້ນຄືນ\" }, { \"code\": \"la\", \"text\": \"Repetere\" }, { \"code\": \"lv\", \"text\": \"Atskaņot vēlreiz\" }, { \"code\": \"ln\", \"text\": \"Kozonga na mosala\" }, { \"code\": \"lt\", \"text\": \"Pakartoti\" }, { \"code\": \"lg\", \"text\": \"Okuddamu okuzannya\" }, { \"code\": \"lb\", \"text\": \"Widderhuelung\" }, { \"code\": \"mk\", \"text\": \"Реприза\" }, { \"code\": \"mai\", \"text\": \"रिप्ले 2019।\" }, { \"code\": \"mg\", \"text\": \"Famerenana\" }, { \"code\": \"ms\", \"text\": \"Main semula\" }, { \"code\": \"ml\", \"text\": \"വീണ്ടും പ്ലേ ചെയ്യുക\" }, { \"code\": \"mt\", \"text\": \"Replay\" }, { \"code\": \"mi\", \"text\": \"Whakatangihia\" }, { \"code\": \"mr\", \"text\": \"रिप्ले करा\" }, { \"code\": \"mni-Mtei\", \"text\": \"ꯔꯤꯞꯂꯦ ꯇꯧꯕꯥ\" }, { \"code\": \"lus\", \"text\": \"Replay 10 a awm\" }, { \"code\": \"mn\", \"text\": \"Дахин тоглуулах\" }, { \"code\": \"my\", \"text\": \"ပြန်ဖွင့်သည်။\" }, { \"code\": \"ne\", \"text\": \"रिप्ले गर्नुहोस्\" }, { \"code\": \"no\", \"text\": \"Spill av på nytt\" }, { \"code\": \"or\", \"text\": \"ରିପ୍ଲେ\" }, { \"code\": \"om\", \"text\": \"Irra deebiin taphachuu \" }, { \"code\": \"ps\", \"text\": \"بیا پلی کول\" }, { \"code\": \"fa\", \"text\": \"پخش مجدد\" }, { \"code\": \"pl\", \"text\": \"Powtórna rozgrywka\" }, { \"code\": \"pt\", \"text\": \"Repetir\" }, { \"code\": \"pa\", \"text\": \"ਰੀਪਲੇ\" }, { \"code\": \"qu\", \"text\": \"Replay\" }, { \"code\": \"ro\", \"text\": \"Reluare\" }, { \"code\": \"ru\", \"text\": \"Повтор\" }, { \"code\": \"sm\", \"text\": \"Toe fai\" }, { \"code\": \"sa\", \"text\": \"पुनः प्ले 1\" }, { \"code\": \"gd\", \"text\": \"Ath-chluich\" }, { \"code\": \"nso\", \"text\": \"Go bapala gape\" }, { \"code\": \"sr\", \"text\": \"Реплаи\" }, { \"code\": \"st\", \"text\": \"Bapala hape\" }, { \"code\": \"sn\", \"text\": \"Tambazve\" }, { \"code\": \"sd\", \"text\": \"وري هلايو\" }, { \"code\": \"si\", \"text\": \"නැවත ධාවනය කරන්න\" }, { \"code\": \"sk\", \"text\": \"Prehrať znova\" }, { \"code\": \"sl\", \"text\": \"Ponovitev\" }, { \"code\": \"so\", \"text\": \"Ku celi\" }, { \"code\": \"es\", \"text\": \"Repetición\" }, { \"code\": \"su\", \"text\": \"Muterkeun deui\" }, { \"code\": \"sw\", \"text\": \"Cheza tena\" }, { \"code\": \"sv\", \"text\": \"Spela om\" }, { \"code\": \"tg\", \"text\": \"Бозӣ\" }, { \"code\": \"ta\", \"text\": \"மீண்டும் விளையாடு\" }, { \"code\": \"tt\", \"text\": \"Кабатлау\" }, { \"code\": \"te\", \"text\": \"రీప్లే చేయండి\" }, { \"code\": \"th\", \"text\": \"เล่นซ้ำ\" }, { \"code\": \"ti\", \"text\": \"ዳግማይ ጸወታ\" }, { \"code\": \"ts\", \"text\": \"Ku tlanga nakambe\" }, { \"code\": \"tr\", \"text\": \"Tekrar oynat\" }, { \"code\": \"tk\", \"text\": \"Gaýtalama\" }, { \"code\": \"ak\", \"text\": \"San bɔ bio\" }, { \"code\": \"uk\", \"text\": \"Повтор\" }, { \"code\": \"ur\", \"text\": \"ری پلے\" }, { \"code\": \"ug\", \"text\": \"قايتا قويۇش\" }, { \"code\": \"uz\", \"text\": \"Takrorlash\" }, { \"code\": \"vi\", \"text\": \"Phát lại\" }, { \"code\": \"cy\", \"text\": \"Ailchwarae\" }, { \"code\": \"xh\", \"text\": \"Phinda udlale\" }, { \"code\": \"yi\", \"text\": \"ריפּליי\" }, { \"code\": \"yo\", \"text\": \"Tun ṣe\" }, { \"code\": \"zu\", \"text\": \"Dlala kabusha\" }]\r\n\r\n            // extract the 'hl' parameter from the embedded url (hl = current player language)\r\n            let language = IframeTube_extractParams['hl']\r\n            // set the default value first\r\n            let replayTooltipText = 'Replay';\r\n            // loop through all of them until we found one that match, and set th replay tooltip text to it\r\n            for (let i = 0; i < replayTooltips.length; i++) {\r\n                if (replayTooltips[i].code === language) {\r\n                    replayTooltipText = replayTooltips[i].text;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            // create the replay tooltip (more reliable with JS, even though it is a bit messy)\r\n            replayTooltip = document.createElement('div');\r\n            replayTooltip.style.pointerEvents = 'none';\r\n            replayTooltip.style.opacity = '0';\r\n            replayTooltip.style.position = 'fixed';\r\n            replayTooltip.style.top = '-35px';\r\n            replayTooltip.style.left = '50%';\r\n            replayTooltip.style.background = 'rgba(28, 28, 28, 0.9)';\r\n            replayTooltip.style.color = '#ffffff';\r\n            replayTooltip.style.borderRadius = '4px';\r\n            replayTooltip.style.fontWeight = '500';\r\n            replayTooltip.style.fontSize = '12.98px';\r\n            replayTooltip.style.paddingLeft = '9px';\r\n            replayTooltip.style.paddingRight = '9px';\r\n            replayTooltip.style.paddingBottom = '0';\r\n            replayTooltip.style.height = '25px';\r\n            replayTooltip.style.boxSizing = 'border-box';\r\n            replayTooltip.style.lineHeight = '25px';\r\n            replayTooltip.style.fontFamily = '\"YouTube Noto\", Roboto, Arial, sans-serif';\r\n            replayTooltip.style.whiteSpace = 'nowrap';\r\n            replayTooltip.id = 'IframeTube_replayTooltip'; // set a custom ID, so we can select it later\r\n            replayTooltip.textContent = replayTooltipText;\r\n            prevButton.appendChild(replayTooltip);\r\n        }\r\n\r\n        // get the client rect\r\n        let rect = prevButton.getBoundingClientRect();\r\n        // position the button based of that\r\n        replayTooltip.style.top = (rect.top - 35) + 'px';\r\n        // positions it like the native replay tooltip\r\n        replayTooltip.style.left = (rect.left + rect.width / 8 - 5) + 'px';\r\n\r\n        // target the video element\r\n        let video = document.querySelector('video');\r\n\r\n        // if the current time is less then 3 seconds\r\n        if (video.currentTime < 3) {\r\n            // get the tooltips and hover state\r\n            let prevTooltip = document.getElementById('IframeTube_prevTooltip');\r\n            let replayTooltip = document.getElementById('IframeTube_replayTooltip');\r\n            let isHovering = prevButton.matches(':hover, :focus-visible');\r\n            // if we are hovering over the button and the tooltips exist\r\n            if (replayTooltip && isHovering && replayTooltip.style.opacity === '1') {\r\n                // hide the replay tooltip first\r\n                replayTooltip.style.opacity = '0';\r\n                if (prevTooltip) {\r\n                    // position the previous tooltip and show it\r\n                    IframeTube_positionPrevTooltip();\r\n                    prevTooltip.style.opacity = '1';\r\n                }\r\n            }\r\n        }\r\n\r\n        // if current time is more or equal to 3\r\n        else if (video.currentTime >= 3) {\r\n            // get the tooltips and hover state\r\n            let prevTooltip = document.getElementById('IframeTube_prevTooltip');\r\n            let replayTooltip = document.getElementById('IframeTube_replayTooltip');\r\n            let isHovering = prevButton.matches(':hover, :focus-visible');\r\n            // if we are hovering over the button and the tooltips exist\r\n            if (prevTooltip && isHovering && prevTooltip.style.opacity === '1') {\r\n                // hide the previous tooltip first\r\n                prevTooltip.style.opacity = '0';\r\n                if (replayTooltip) {\r\n                    // position the replay tooltip and show it\r\n                    IframeTube_replayTooltip();\r\n                    replayTooltip.style.opacity = '1';\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // manage theater attributes\r\n    function IframeTube_theaterButtonAttribute(data) {\r\n        // target the remote and theater buttons\r\n        let theaterButton = document.querySelector('.ytp-size-button');\r\n        let remoteButton = document.querySelector('.ytp-remote-button');\r\n        if (theaterButton) {\r\n            // set the native attributes to '' (none), this is so our CSS rule for empty Youtube attributes hides it\r\n            theaterButton.setAttribute('aria-label', '');\r\n            theaterButton.setAttribute('data-tooltip-title', '');\r\n            // set our custom data-label for our CSS to use and make it visible\r\n            theaterButton.setAttribute('data-label', data);\r\n            theaterButton.classList.add('IframeTube_visible');\r\n\r\n            // if the tooltip is longer then 18 characters, and the remote button is disabled, mark it as a long tooltip (we do this so it always fits in the player correctly)\r\n            let tooltipText = theaterButton.getAttribute('data-label');\r\n            if (tooltipText && tooltipText.length > 18 && remoteButton.style.display === 'none') {\r\n                theaterButton.classList.add('long-tooltip');\r\n            }\r\n            // otherwise, it is a short tooltip, removes the long tooltip class\r\n            else {\r\n                theaterButton.classList.remove('long-tooltip');\r\n            }\r\n        }\r\n    }\r\n\r\n    // sets the theater icon based on how the function was called\r\n    function IframeTube_setTheaterIcon(icon) {\r\n        // finds the theater button\r\n        let theaterButton = document.querySelector('.ytp-size-button');\r\n        if (theaterButton) {\r\n            // set the icon to the theater one\r\n            if (icon === 'theaterIcon') {\r\n                IframeTube_setInnerHTML(theaterButton, IframeTube_theater_theaterIcon);\r\n            }\r\n\r\n            // set the icon to the default one\r\n            else if (icon === 'defaultIcon') {\r\n                IframeTube_setInnerHTML(theaterButton, IframeTube_theater_defaultIcon);\r\n            }\r\n        }\r\n    }\r\n\r\n    // adds missing controls to the embedded player, which the native one has\r\n    let IframeTube_player_customControls_timeout = false;\r\n    function IframeTube_player_customControls() {\r\n\r\n        // target the play button (one of the first buttons to render, most reliable)\r\n        let playButton = document.querySelector('.ytp-play-button');\r\n        // if it does not exist, retry in 100 ms until it does\r\n        if (!playButton) {\r\n            clearTimeout(IframeTube_player_customControls_timeout);\r\n            IframeTube_player_customControls_timeout = setTimeout(IframeTube_player_customControls, 100);\r\n            return;\r\n        }\r\n\r\n        // target the next button\r\n        let nextButton = document.querySelector('.ytp-next-button');\r\n        if (nextButton) {\r\n            // tells the top window to play the next video when it is clicked\r\n            nextButton.addEventListener('click', () => {\r\n                window.top.postMessage('IframeTube_nextVideo', '*');\r\n            });\r\n\r\n            // target the subtitles button\r\n            let subtitlesButton = document.querySelector('.ytp-subtitles-button');\r\n            // if it exists, inject the Youtube next tooltip before them (invisible for now)\r\n            if (subtitlesButton) {\r\n                IframeTube_insertAdjacentHTML(subtitlesButton, 'beforebegin', '<div aria-live=\"polite\" data-layer=\"4\" style=\"opacity: 0\" id=\"IframeTube_nextTooltip\" class=\"ytp-tooltip ytp-text-detail ytp-preview ytp-bottom\"><div class=\"ytp-tooltip-text-wrapper\" aria-hidden=\"true\" style=\"width: 243px;\"><div class=\"ytp-tooltip-edu\" style=\"bottom: 138px;\"><svg height=\"100%\" viewBox=\"0 0 36 36\" width=\"100%\"><path d=\"M14.1 36.75 12 34.65 24 22.65 36 34.65 33.9 36.75 24 26.85ZM14.1 24.1 12 22 24 10 36 22 33.9 24.1 24 14.2Z\"></path></svg><span></span></div><div class=\"ytp-tooltip-image\"></div><div class=\"ytp-tooltip-title\" style=\"right: 123px; text-align: center;\"><span id=\"IframeTube_NextShortcutText\"></span><div class=\"ytp-tooltip-keyboard-shortcut\"></div></div><div class=\"ytp-tooltip-bottom-text ytp-tooltip-text-no-title\"><span class=\"ytp-tooltip-text\" id=\"IframeTube_NextVideoTitle\"></span><div class=\"ytp-tooltip-keyboard-shortcut\"></div></div><div class=\"ytp-tooltip-progress-bar-pill\"><div class=\"ytp-tooltip-progress-bar-pill-time-stamp\"></div><div class=\"ytp-tooltip-progress-bar-pill-title\"></div></div></div><div class=\"ytp-tooltip-bg\" id=\"IframeTube_nextVideoImage\" style=\"width: 243px; height: 141px; background-image: url(&quot;https://i1.ytimg.com/vi/V4DDt30Aat4/mqdefault.jpg&quot;); background-size: 243px 141px;\"><div class=\"ytp-tooltip-duration\"></div></div></div>')\r\n            }\r\n\r\n            // target the next tooltip\r\n            let nextTooltip = document.getElementById('IframeTube_nextTooltip');\r\n            if (nextTooltip) {\r\n                // set its position to fixed and z-index to 999\r\n                nextTooltip.style.position = 'fixed';\r\n                nextTooltip.style.zIndex = '999';\r\n            }\r\n\r\n            // when we put our mouse above the button, position the next tooltip and show it\r\n            nextButton.addEventListener('mouseenter', () => {\r\n                if (nextTooltip) {\r\n                    IframeTube_positionNextTooltip();\r\n                    nextTooltip.style.opacity = '1';\r\n                }\r\n            });\r\n\r\n            // if we use the tab navigation over the button, position the tooltip and show it\r\n            nextButton.addEventListener('focus', () => {\r\n                if (nextButton.matches(':focus-visible')) {\r\n                    if (nextTooltip) {\r\n                        IframeTube_positionNextTooltip();\r\n                        nextTooltip.style.opacity = '1';\r\n                    }\r\n                }\r\n            });\r\n\r\n            // if we leave the button with our mouse, and it is not being selected with tab navigation, hide it\r\n            nextButton.addEventListener('mouseleave', () => {\r\n                if (nextTooltip && !nextButton.matches(':focus-visible')) {\r\n                    nextTooltip.style.opacity = '0';\r\n                }\r\n            });\r\n\r\n            // if we leave the button with tab navigation, hide it\r\n            nextButton.addEventListener('blur', () => {\r\n                if (nextTooltip) {\r\n                    nextTooltip.style.opacity = '0';\r\n                }\r\n            });\r\n        }\r\n\r\n        // target the previous button\r\n        let prevButton = document.querySelector('.ytp-prev-button');\r\n        if (prevButton) {\r\n            // adds a listener for click to the button\r\n            prevButton.addEventListener('click', () => {\r\n                // target the video element\r\n                let video = document.querySelector('video');\r\n                // if the video current time is below 3\r\n                if (video.currentTime < 3) {\r\n                    // tell the top window to play the previous video\r\n                    window.top.postMessage('IframeTube_previousVideo', '*');\r\n                }\r\n                // otherwise, set the video time to 0\r\n                else {\r\n                    video.currentTime = 0;\r\n                }\r\n            });\r\n\r\n            // target the subtitles button\r\n            let subtitlesButton = document.querySelector('.ytp-subtitles-button');\r\n            // if it exists, inject the Youtube previous tooltip before them (invisible for now)\r\n            if (subtitlesButton) {\r\n                IframeTube_insertAdjacentHTML(subtitlesButton, 'beforebegin', '<div aria-live=\"polite\" data-layer=\"4\" style=\"opacity: 0\" id=\"IframeTube_prevTooltip\" class=\"ytp-tooltip ytp-text-detail ytp-preview ytp-bottom\"><div class=\"ytp-tooltip-text-wrapper\" aria-hidden=\"true\" style=\"width: 243px;\"><div class=\"ytp-tooltip-edu\" style=\"bottom: 138px;\"><svg height=\"100%\" viewBox=\"0 0 36 36\" width=\"100%\"><path d=\"M14.1 36.75 12 34.65 24 22.65 36 34.65 33.9 36.75 24 26.85ZM14.1 24.1 12 22 24 10 36 22 33.9 24.1 24 14.2Z\"></path></svg><span></span></div><div class=\"ytp-tooltip-image\"></div><div class=\"ytp-tooltip-title\" style=\"right: 123px; text-align: center;\"><span id=\"IframeTube_prevShortcutText\"></span><div class=\"ytp-tooltip-keyboard-shortcut\"></div></div><div class=\"ytp-tooltip-bottom-text ytp-tooltip-text-no-title\"><span class=\"ytp-tooltip-text\" id=\"IframeTube_prevVideoTitle\"></span><div class=\"ytp-tooltip-keyboard-shortcut\"></div></div><div class=\"ytp-tooltip-progress-bar-pill\"><div class=\"ytp-tooltip-progress-bar-pill-time-stamp\"></div><div class=\"ytp-tooltip-progress-bar-pill-title\"></div></div></div><div class=\"ytp-tooltip-bg\" id=\"IframeTube_prevVideoImage\" style=\"width: 243px; height: 141px; background-image: url(&quot;https://i1.ytimg.com/vi/V4DDt30Aat4/mqdefault.jpg&quot;); background-size: 243px 141px;\"><div class=\"ytp-tooltip-duration\"></div></div></div>')\r\n            }\r\n\r\n            // target the previous tooltip\r\n            let prevTooltip = document.getElementById('IframeTube_prevTooltip');\r\n            if (prevTooltip) {\r\n                // set its position to fixed and z-index to 999\r\n                prevTooltip.style.position = 'fixed';\r\n                prevTooltip.style.zIndex = '999';\r\n            }\r\n\r\n            // adds a listener for when we put our mouse above the button\r\n            prevButton.addEventListener('mouseenter', () => {\r\n                // target the video element\r\n                let video = document.querySelector('video');\r\n                // if the tooltip and video exist\r\n                if (prevTooltip && video) {\r\n                    // if the video current time is below 3\r\n                    if (video.currentTime < 3) {\r\n                        // position the previous tooltip and show it\r\n                        IframeTube_positionPrevTooltip();\r\n                        prevTooltip.style.opacity = '1';\r\n                    }\r\n                    else {\r\n                        // otherwise, if it is equal or above 3, position the replay tooltip and hide the previous tooltip\r\n                        IframeTube_replayTooltip();\r\n                        let replayTooltip = document.getElementById('IframeTube_replayTooltip');\r\n                        prevTooltip.style.opacity = '0';\r\n                        replayTooltip.style.opacity = '1';\r\n                    }\r\n                }\r\n            });\r\n\r\n            // adds a listener for when we select the button via tab navigation\r\n            prevButton.addEventListener('focus', () => {\r\n                if (prevButton.matches(':focus-visible')) {\r\n                    // target the video element\r\n                    let video = document.querySelector('video');\r\n                    // if the tooltip and video exist\r\n                    if (prevTooltip && video) {\r\n                        // if the video current time is below 3\r\n                        if (video.currentTime < 3) {\r\n                            IframeTube_positionPrevTooltip();\r\n                            prevTooltip.style.opacity = '1';\r\n                        }\r\n\r\n                        // otherwise, if it is equal or above 3, position the replay tooltip and hide the previous tooltip\r\n                        else {\r\n                            IframeTube_replayTooltip();\r\n                            let replayTooltip = document.getElementById('IframeTube_replayTooltip');\r\n                            prevTooltip.style.opacity = '0';\r\n                            replayTooltip.style.opacity = '1';\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n            // adds a listener for when we put our mouse away from the button\r\n            prevButton.addEventListener('mouseleave', () => {\r\n                // if the previous tooltip exists and it is not selected via tab navigation\r\n                if (prevTooltip && !prevButton.matches(':focus-visible')) {\r\n                    // hide the previous tooltip\r\n                    prevTooltip.style.opacity = '0';\r\n                }\r\n\r\n                // target the replay tooltip\r\n                let replayTooltip = document.getElementById('IframeTube_replayTooltip');\r\n                if (replayTooltip) {\r\n                    // hide the replay tooltip\r\n                    replayTooltip.style.opacity = '0';\r\n                }\r\n            });\r\n\r\n            // adds a listener for when we stop selecting the button with tab navigation\r\n            prevButton.addEventListener('blur', () => {\r\n                if (prevTooltip) {\r\n                    // hide the prev tooltip\r\n                    prevTooltip.style.opacity = '0';\r\n                }\r\n\r\n                // target the replay tooltip\r\n                let replayTooltip = document.getElementById('IframeTube_replayTooltip');\r\n                if (replayTooltip) {\r\n                    // hide the replay tooltip\r\n                    replayTooltip.style.opacity = '0';\r\n                }\r\n            });\r\n        }\r\n\r\n        // target the theater button\r\n        let theaterButton = document.querySelector('.ytp-size-button');\r\n        if (theaterButton) {\r\n\r\n            // set the html for the default icon\r\n            let defaultIcon = '<svg height=\"100%\" version=\"1.1\" viewBox=\"0 0 36 36\" width=\"100%\"><use class=\"ytp-svg-shadow\" xlink:href=\"#ytp-id-30\"></use><path d=\"m 28,11 0,14 -20,0 0,-14 z m -18,2 16,0 0,10 -16,0 0,-10 z\" fill=\"#fff\" fill-rule=\"evenodd\" id=\"ytp-id-30\"></path></svg>';\r\n\r\n            // set the html for the theater icon\r\n            let theaterIcon = '<svg height=\"100%\" version=\"1.1\" viewBox=\"0 0 36 36\" width=\"100%\"><use class=\"ytp-svg-shadow\" xlink:href=\"#ytp-id-41\"></use><path d=\"m 26,13 0,10 -16,0 0,-10 z m -14,2 12,0 0,6 -12,0 0,-6 z\" fill=\"#fff\" fill-rule=\"evenodd\" id=\"ytp-id-41\"></path></svg>';\r\n\r\n            // to make the button appear faster, set the default icon immediately\r\n            IframeTube_setInnerHTML(theaterButton, defaultIcon);\r\n\r\n            // add an event listener for clicking the button\r\n            theaterButton.addEventListener('click', () => {\r\n                // notify the top window to enter/exit theater\r\n                window.top.postMessage('IframeTube_theater', '*');\r\n                // target the player\r\n                let player = document.querySelector('.html5-video-player');\r\n                // focus the player without scrolling to it (this prevents the theater tooltip from being stucked, as we enable it on tab navigation)\r\n                player.focus({ preventScroll: true });\r\n            });\r\n\r\n            // add an event listener for when we put our mouse above the button\r\n            theaterButton.addEventListener('mouseenter', () => {\r\n                // if one of the native attributes does not equal to '' (none)\r\n                if (theaterButton.getAttribute('aria-label') !== '' || theaterButton.getAttribute('data-tooltip-title') !== '') {\r\n                    // set them both to '' (none), this is so our CSS rule for empty Youtube tooltips hides it\r\n                    theaterButton.setAttribute('aria-label', '');\r\n                    theaterButton.setAttribute('data-tooltip-title', '');\r\n                }\r\n            });\r\n\r\n            // expose the icons globally\r\n            IframeTube_theater_theaterIcon = theaterIcon;\r\n            IframeTube_theater_defaultIcon = defaultIcon;\r\n        }\r\n\r\n        // target the subtitles button\r\n        let subtitlesButton = document.querySelector('.ytp-subtitles-button');\r\n        // if it exists, inject the autoplay button to the left of it with our custom ID\r\n        if (subtitlesButton) {\r\n            IframeTube_insertAdjacentHTML(subtitlesButton, 'beforebegin', `<button class=\"ytp-button ytp-autonav-toggle\" id=\"IframeTube_autoplayButton\"><div class=\"ytp-autonav-toggle-button-container\"><div class=\"ytp-autonav-toggle-button\" aria-checked=\"${IframeTube_extractParams['IframeTube_autoPlay']}\"></div></div></button>`);\r\n        }\r\n\r\n        // configures the autoplay button\r\n        let IframeTube_autoPlay_timeout = false;\r\n        function IframeTube_autoplayButton() {\r\n            // if one of the tooltips does not exist yet, retry in 100ms until it does\r\n            if (!IframeTube_autoplay_enabledTooltip || !IframeTube_autoplay_disabledTooltip) {\r\n                clearTimeout(IframeTube_autoPlay_timeout);\r\n                IframeTube_autoPlay_timeout = setTimeout(IframeTube_autoplayButton, 100);\r\n                return;\r\n            }\r\n\r\n            // target our autoplay button and the inner one\r\n            let autoPlayButton = document.getElementById('IframeTube_autoplayButton');\r\n            let innerButton = document.querySelector('.ytp-autonav-toggle-button');\r\n\r\n            // if our autoplay button exists\r\n            if (autoPlayButton) {\r\n\r\n                // extract the params from the embedded url, and if they equal to true\r\n                if (IframeTube_extractParams['IframeTube_autoPlay'] === 'true') {\r\n                    // set our tooltip to the enabled one\r\n                    innerButton.setAttribute('data-label', IframeTube_autoplay_enabledTooltip);\r\n                    // set the autoplay flag to true\r\n                    IframeTube_autoPlay = true;\r\n                    // if we are not on a playlist, hide the end screen (for playlists it is already hidden)\r\n                    if (!IframeTube_playlist) {\r\n                        IframeTube_hideEndScreen();\r\n                    }\r\n                }\r\n\r\n                // else if the params equal to false\r\n                else if (IframeTube_extractParams['IframeTube_autoPlay'] === 'false') {\r\n                    // set our tooltip to the disabled one\r\n                    innerButton.setAttribute('data-label', IframeTube_autoplay_disabledTooltip);\r\n                }\r\n\r\n                // add a listener for when we click the button\r\n                autoPlayButton.addEventListener('click', () => {\r\n                    // if the button is disabled\r\n                    if (innerButton.getAttribute('aria-checked') === 'false') {\r\n                        // set the icon to enabled\r\n                        innerButton.setAttribute('aria-checked', 'true');\r\n                        // notify the top window that autoplay is true\r\n                        window.top.postMessage('IframeTube_enableAutoplay', '*');\r\n\r\n                        // set our tooltip to the enabled one\r\n                        innerButton.setAttribute('data-label', IframeTube_autoplay_enabledTooltip);\r\n\r\n                        // set the autoplay flag to true\r\n                        IframeTube_autoPlay = true;\r\n\r\n                        // if we are not on a playlist, hide the end screen (for playlists it is already hidden)\r\n                        if (!IframeTube_playlist) {\r\n                            IframeTube_hideEndScreen();\r\n                        }\r\n                    }\r\n\r\n                    // else, if the button is enabled\r\n                    else if (innerButton.getAttribute('aria-checked') === 'true') {\r\n                        // set the icon to disabled\r\n                        innerButton.setAttribute('aria-checked', 'false');\r\n                        // notify the top window that autoplay is false\r\n                        window.top.postMessage('IframeTube_disableAutoplay', '*');\r\n\r\n                        // set our tooltip to the disabled one\r\n                        innerButton.setAttribute('data-label', IframeTube_autoplay_disabledTooltip);\r\n\r\n                        // set the autoplay flag to false\r\n                        IframeTube_autoPlay = false;\r\n\r\n                        // if we are not on a playlist, show the end screen (for playlists it is always hidden)\r\n                        if (!IframeTube_playlist) {\r\n                            IframeTube_showEndScreen();\r\n                        }\r\n                    }\r\n                });\r\n                // shows the autoplay button’s tooltip after it exists\r\n                innerButton.classList.add('IframeTube_visible');\r\n            }\r\n        }\r\n        // calls the function\r\n        IframeTube_autoplayButton();\r\n    }\r\n\r\n    // adds custom listeners to the embedded player that it does not have\r\n    let IframeTube_player_customListeners_timeout = false;\r\n    function IframeTube_player_customListeners() {\r\n        // target the main video element\r\n        let player = document.querySelector('#player video');\r\n        // if it does not exist, retry in 100 ms until it does\r\n        if (!player) {\r\n            clearTimeout(IframeTube_player_customListeners_timeout);\r\n            IframeTube_player_customListeners_timeout = setTimeout(IframeTube_player_customListeners, 100);\r\n            return;\r\n        }\r\n\r\n        // adds these listeners to detect when the video ended\r\n        player.addEventListener('ended', IframeTube_videoEnded);\r\n        player.addEventListener('pause', IframeTube_videoEnded);\r\n\r\n\r\n        // adds a listener that fires when the user skips through the video\r\n        player.addEventListener('seeked', () => {\r\n            // target the previous button\r\n            let prevButton = document.querySelector('.ytp-prev-button');\r\n            if (prevButton) {\r\n                // if we are hovering over it or selecting it via tab navigation\r\n                let isHovering = prevButton.matches(':hover, :focus-visible');\r\n                if (isHovering) {\r\n                    // this function determinates if we should show the replay tooltip, or the previous tooltip\r\n                    IframeTube_replayTooltip();\r\n                }\r\n            }\r\n        });\r\n\r\n        // adds a listener that fires every 250ms as the video plays\r\n        player.addEventListener('timeupdate', () => {\r\n            // target the previous button\r\n            let prevButton = document.querySelector('.ytp-prev-button');\r\n            if (prevButton) {\r\n                // if we are hovering over it or selecting it via tab navigation\r\n                let isHovering = prevButton.matches(':hover, :focus-visible');\r\n                if (isHovering) {\r\n                    // this function determinates if we should show the replay tooltip, or the previous tooltip\r\n                    IframeTube_replayTooltip();\r\n                }\r\n            }\r\n        });\r\n\r\n        // adds a listener for keyboard shortcuts\r\n        document.addEventListener('keydown', (event) => {\r\n            // if we are holding the altkey, ctrlkey, or meta key, do not proceed\r\n            if (event.altKey || event.ctrlKey || event.metaKey) {\r\n                return;\r\n            }\r\n\r\n            // if the shortcut is 't' or 'T'\r\n            else if (event.key.toLowerCase() === 't') {\r\n                // notify the top window to enter/exit theater\r\n                window.top.postMessage('IframeTube_theater', '*');\r\n            }\r\n\r\n            // if the shortcut is 'i' or 'I'\r\n            else if (event.key.toLowerCase() === 'i') {\r\n                // target the pip button\r\n                let pipButton = document.querySelector('.ytp-pip-button');\r\n                // if it exists\r\n                if (pipButton) {\r\n                    // click it\r\n                    pipButton.click();\r\n                }\r\n            }\r\n\r\n            // if the shortcut is 'n' or 'N' while shift is being hold\r\n            else if (event.key.toLowerCase() === 'n' && event.shiftKey) {\r\n                // tell the top window to play the next video\r\n                window.top.postMessage('IframeTube_nextVideo', '*');\r\n            }\r\n\r\n            // if the shortcut is 'p' or 'P' while shift is being hold\r\n            else if (event.key.toLowerCase() === 'p' && event.shiftKey) {\r\n                // tell the top window to play the previous video\r\n                window.top.postMessage('IframeTube_previousVideo', '*');\r\n            }\r\n\r\n        });\r\n\r\n        // support double speed shortcuts (e.g. hold space bar or the left click mouse button to go double speed)\r\n        IframeTube_doubleSpeedShortcuts();\r\n    }\r\n\r\n    // checks if the video ended\r\n    function IframeTube_videoEnded() {\r\n        // target the main video element and the endscreen\r\n        let player = document.querySelector('#player video');\r\n        let endscreen = document.querySelector('.videowall-endscreen')\r\n\r\n        // if the endscreen is visible (this is not affected by our class that hides it)\r\n        if (endscreen && endscreen.style.display !== 'none') {\r\n            // if we are looping, set the time to 0\r\n            if (player.loop) {\r\n                player.currentTime = 0;\r\n            }\r\n            // otherwise, notify the top window that the video ended\r\n            else {\r\n                window.top.postMessage('IframeTube_video_ended', '*');\r\n            }\r\n        }\r\n    }\r\n\r\n    // adds double speed shortcuts to the embedded player\r\n    function IframeTube_doubleSpeedShortcuts() {\r\n\r\n        // target the main video\r\n        let player = document.querySelector('#player video');\r\n\r\n        // protects the class from being removed by Youtube’s scripts\r\n        let IframeTube_class = new Set();\r\n\r\n        // sorry yall that this is a bit messy, but it is the only reliable way\r\n        // monkey patches the class from being removed\r\n        function IframeTube_protectClass(player, className) {\r\n            if (!player.IframeTube_class) {\r\n                let remove = player.classList.remove;\r\n                player.classList.remove = (...classes) => {\r\n                    remove.apply(player.classList, classes.filter(c => !IframeTube_class.has(c)));\r\n                };\r\n                player.IframeTube_class = true;\r\n            }\r\n            // adds the class to the list\r\n            IframeTube_class.add(className);\r\n        }\r\n\r\n        // hides the controls when speeding\r\n        function hideControls() {\r\n            // targets the player\r\n            let player = document.querySelector('.html5-video-player');\r\n            if (player) {\r\n                // adds the class that Youtube uses to hide controls\r\n                player.classList.add('ytp-hide-controls');\r\n                // protects it\r\n                IframeTube_protectClass(player, 'ytp-hide-controls');\r\n                // hides the class that Youtube uses to hide the video title\r\n                player.classList.add('ytp-hide-info-bar');\r\n                // protects it\r\n                IframeTube_protectClass(player, 'ytp-hide-info-bar');\r\n                // targets the litle black thingy around the video title\r\n                let gradientTop = player.querySelector('.ytp-gradient-top');\r\n                if (gradientTop) {\r\n                    // adds a speeding class to it, which hides it\r\n                    gradientTop.classList.add('IframeTube_speeding');\r\n                }\r\n            }\r\n        }\r\n\r\n        // shows the controls\r\n        function showControls() {\r\n            // targets the player\r\n            let player = document.querySelector('.html5-video-player');\r\n            if (player) {\r\n                // unprotects the classes\r\n                IframeTube_class.delete('ytp-hide-controls');\r\n                IframeTube_class.delete('ytp-hide-info-bar');\r\n                // shows the controls and the video title\r\n                player.classList.remove('ytp-hide-controls');\r\n                player.classList.remove('ytp-hide-info-bar');\r\n                // removes the auto hide class, so the controls are shown immediately when we stop speeding (native behavior)\r\n                player.classList.remove('ytp-autohide');\r\n                // focus the player to prevent edge cases (without scrolling back to it)\r\n                player.focus({ preventScroll: true });\r\n\r\n                // targets the little black thingy around the video title\r\n                let gradientTop = player.querySelector('.ytp-gradient-top');\r\n                if (gradientTop) {\r\n                    // removes the speeding class from it, which shows it\r\n                    gradientTop.classList.remove('IframeTube_speeding');\r\n                }\r\n\r\n                // targets the controls\r\n                let controls = player.querySelector('.ytp-chrome-bottom');\r\n                if (controls) {\r\n                    // creates and dispatches a fake mouse move event to it (this unfreezes the player time in the controls)\r\n                    let rect = controls.getBoundingClientRect();\r\n                    for (let i = 0; i < 3; i++) {\r\n                        let evt = new MouseEvent('mousemove', {\r\n                            bubbles: true,\r\n                            cancelable: true,\r\n                            view: window,\r\n                            clientX: rect.left + 2 + i,\r\n                            clientY: rect.top + 2 + i\r\n                        });\r\n                        controls.dispatchEvent(evt);\r\n                    }\r\n                    // also does the same with mouse over and mouse enter\r\n                    ['mouseover', 'mouseenter'].forEach(type => {\r\n                        let evt = new MouseEvent(type, {\r\n                            bubbles: true,\r\n                            cancelable: true,\r\n                            view: window,\r\n                            clientX: rect.left + 2,\r\n                            clientY: rect.top + 2\r\n                        });\r\n                        controls.dispatchEvent(evt);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        // creates the Youtube speed overlay\r\n        function createSpeedOverlay() {\r\n            // targets it\r\n            let doubleSpeedElement = document.getElementById(\"doubleSpeedElement\");\r\n            // if it does not exist, create it\r\n            if (!doubleSpeedElement) {\r\n                doubleSpeedElement = document.createElement(\"div\");\r\n                doubleSpeedElement.id = \"doubleSpeedElement\";\r\n                // sets position relative and zIndex 999 to make it appear in full screen\r\n                doubleSpeedElement.style.position = \"relative\";\r\n                doubleSpeedElement.style.zIndex = \"999\";\r\n\r\n                // sets the exact same inner html as the native player has\r\n                IframeTube_setInnerHTML(doubleSpeedElement, `\r\n        <div class=\"ytp-overlay ytp-speedmaster-overlay\" data-layer=\"4\">\r\n            <div class=\"ytp-speedmaster-user-edu ytp-speedmaster-has-icon\">\r\n                <div class=\"ytp-speedmaster-label\">2x</div>\r\n                    <div class=\"ytp-speedmaster-icon\">\r\n                        <svg height=\"100%\" version=\"1.1\" viewBox=\"0 0 36 36\" width=\"100%\">\r\n                            <path class=\"ytp-svg-fill\" d=\"M 10,24 18.5,18 10,12 V 24 z M 19,12 V 24 L 27.5,18 19,12 z\" id=\"ytp-id-1\"></path>\r\n                        </svg>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `);\r\n                // targets the player\r\n                let player = document.querySelector(\".html5-video-player\");\r\n                if (player) {\r\n                    // appends it to the player\r\n                    player.appendChild(doubleSpeedElement);\r\n                }\r\n            }\r\n            // returns the double speed element\r\n            return doubleSpeedElement;\r\n        }\r\n\r\n        // shows the speed overlay (custom speed parameter for the future)\r\n        function showSpeedOverlay(speed = 2) {\r\n            // creates the speed overlay\r\n            let doubleSpeedElement = createSpeedOverlay();\r\n            // gets the label\r\n            let label = doubleSpeedElement.querySelector(\".ytp-speedmaster-label\");\r\n            if (label) {\r\n                // sets the speeding text to it (e.g. 2x)\r\n                label.textContent = `${speed}x`;\r\n            }\r\n\r\n            // shows it with a opacity to make it look nicer\r\n            doubleSpeedElement.style.display = \"block\";\r\n            doubleSpeedElement.style.opacity = \"1\";\r\n        }\r\n\r\n        // hides the speed overlay\r\n        function hideSpeedOverlay() {\r\n            // targets the double speed element\r\n            let doubleSpeedElement = document.getElementById(\"doubleSpeedElement\");\r\n            if (doubleSpeedElement) {\r\n                // hides it with opacity to make it look nicer\r\n                doubleSpeedElement.style.opacity = \"0\";\r\n                doubleSpeedElement.style.display = \"none\";\r\n            }\r\n        }\r\n\r\n        // refetch the iframe api\r\n        IframeTube_iframe_api = document.getElementById('movie_player')\r\n\r\n        // define the space speeding variables\r\n        let spaceHoldTime = 0;\r\n        let spaceHoldTimeout = false;\r\n        let spaceSpeeding = false;\r\n        let spaceVideoWasPaused = false;\r\n        let spacePreviousPlaybackRate = false;\r\n\r\n        // function to enter speeding\r\n        function IframeTube_spaceEnterSpeeding(e) {\r\n            // if the code or key is space, proceed\r\n            if (e.code === 'Space' || e.key === ' ') {\r\n\r\n                // if a Youtube error is showing, do not proceed\r\n                let errorElement = document.querySelector('.ytp-error');\r\n                if (errorElement) {\r\n                    return;\r\n                }\r\n\r\n                // if we are already left click speeding, do not proceed\r\n                if (leftClickSpeeding) {\r\n                    return;\r\n                }\r\n\r\n                // prevents the default browser and Youtube action\r\n                e.preventDefault();\r\n                e.stopImmediatePropagation();\r\n\r\n                // if the event is repeating (e.g. holding the bar), do not proceed\r\n                if (e.repeat) {\r\n                    return;\r\n                }\r\n\r\n                // get the previous playback, which we will then restore\r\n                spacePreviousPlaybackRate = IframeTube_iframe_api.getPlaybackRate();\r\n\r\n                // clears the timeout first, then gets the new hold time\r\n                clearTimeout(spaceHoldTimeout);\r\n                spaceHoldTime = Date.now();\r\n\r\n                // if we are holding for 500ms (half a second), enter space speeding\r\n                spaceHoldTimeout = setTimeout(() => {\r\n                    // sets the video playback to 2\r\n                    IframeTube_iframe_api.setPlaybackRate(2);\r\n                    // hides the controls and shows the '2' speed overlay\r\n                    showSpeedOverlay(2);\r\n                    hideControls();\r\n                    // sets the space speeding flag to true\r\n                    spaceSpeeding = true;\r\n                    // if the video was paused, set the 'spaceVideoWasPaused' flag to true, and play the video\r\n                    if (player.paused) {\r\n                        spaceVideoWasPaused = true;\r\n                        player.play();\r\n                    }\r\n                }, 500);\r\n            }\r\n        }\r\n\r\n        // function to exit space speeding\r\n        function IframeTube_spaceExitSpeeding(e) {\r\n            // if the code or key is space, or the event type is blur, proceed\r\n            if (e.code === 'Space' || e.key === ' ' || e.type === 'blur') {\r\n\r\n                // if we are already left click speeding, do not proceed\r\n                if (leftClickSpeeding) {\r\n                    return;\r\n                }\r\n\r\n                // clear the timeout first\r\n                clearTimeout(spaceHoldTimeout);\r\n\r\n                // prevents the default browser and Youtube action\r\n                e.preventDefault();\r\n                e.stopImmediatePropagation();\r\n\r\n                // if we were holding space for less then 500ms, and we were not speeding, dispatch a fake 'k' event to pause the video\r\n                if (!spaceSpeeding && Date.now() - spaceHoldTime < 500) {\r\n                    // target the video\r\n                    player = document.querySelector('#player video');\r\n                    // dispatch the fake 'k' event\r\n                    player.dispatchEvent(new KeyboardEvent('keydown', { key: 'k', code: 'KeyK', keyCode: 75, which: 75, bubbles: true }));\r\n                }\r\n\r\n                // otherwise, we were speeding, so exit it\r\n                else {\r\n                    // set the previous playback rate\r\n                    IframeTube_iframe_api.setPlaybackRate(spacePreviousPlaybackRate);\r\n                    // hide the speed overlay and show controls\r\n                    hideSpeedOverlay();\r\n                    showControls();\r\n                    // sets the space speeding flag to false\r\n                    spaceSpeeding = false;\r\n                    // if the video was paused before speeding, pause it\r\n                    if (spaceVideoWasPaused) {\r\n                        player.pause();\r\n                        // reset the flag\r\n                        spaceVideoWasPaused = false;\r\n                    }\r\n                }\r\n\r\n                // reset the space hold time\r\n                spaceHoldTime = 0;\r\n            }\r\n        }\r\n\r\n        // add listeners for keydown and keyup\r\n        document.addEventListener('keydown', IframeTube_spaceEnterSpeeding, true);\r\n        document.addEventListener('keyup', IframeTube_spaceExitSpeeding, true);\r\n\r\n        // left click speeding flags\r\n        let leftClickHoldTimeout = false;\r\n        let leftClickSpeeding = false;\r\n        let leftClickVideoWasPaused = false;\r\n        let leftClickPreviousPlaybackRate = false;\r\n\r\n        let leftClickSuppressNext = false;\r\n        let leftClickSuppressTimer = false;\r\n\r\n        // function to enter speeding\r\n        function IframeTube_leftClickEnterSpeeding(e) {\r\n\r\n            // if it isn’t the left mouse button, do not proceed\r\n            if (e.button !== 0) {\r\n                return;\r\n            }\r\n\r\n            // if we are already space speeding, do not proceed\r\n            if (spaceSpeeding) {\r\n                return;\r\n            }\r\n\r\n            // clear the timeout first\r\n            clearTimeout(leftClickHoldTimeout);\r\n\r\n            // get the previous playback, which we will then restore\r\n            leftClickPreviousPlaybackRate = IframeTube_iframe_api.getPlaybackRate();\r\n\r\n            // if we are holding for 500 ms (half a second), enter left click speeding\r\n            leftClickHoldTimeout = setTimeout(() => {\r\n\r\n                // prevents the default browser and Youtube action\r\n                e.preventDefault();\r\n                e.stopImmediatePropagation();\r\n\r\n                // sets the video playback to 2\r\n                IframeTube_iframe_api.setPlaybackRate(2);\r\n                // hides the controls and shows the '2' speed overlay\r\n                showSpeedOverlay(2);\r\n                hideControls();\r\n                // sets the left click speeding flag to true, and also indicates that we should supress the next click\r\n                leftClickSpeeding = true;\r\n                leftClickSuppressNext = true;\r\n\r\n                // if the player was paused, set the 'leftClickVideoWasPaused' to true, and play the video\r\n                if (player.paused) {\r\n                    leftClickVideoWasPaused = true;\r\n                    player.play();\r\n                }\r\n            }, 500);\r\n        }\r\n\r\n        // function to exit left click speeding\r\n        function IframeTube_leftClickExitSpeeding(e) {\r\n\r\n            // clear the timeout first (also for non speeding cases)\r\n            clearTimeout(leftClickHoldTimeout);\r\n\r\n            // if we are not speeding, do not proceed\r\n            if (!leftClickSpeeding) {\r\n                return;\r\n            }\r\n\r\n            // prevents the default browser and Youtube action\r\n            e.preventDefault();\r\n            e.stopImmediatePropagation();\r\n\r\n\r\n            // set the previous playback rate\r\n            IframeTube_iframe_api.setPlaybackRate(leftClickPreviousPlaybackRate);\r\n            // hide the speed overlay and show the controls\r\n            hideSpeedOverlay();\r\n            showControls();\r\n            // set the left click speeding flag to false\r\n            leftClickSpeeding = false;\r\n\r\n            // if the video was paused before speeding, pause it\r\n            if (leftClickVideoWasPaused) {\r\n                player.pause();\r\n                // reset the flag\r\n                leftClickVideoWasPaused = false;\r\n            }\r\n\r\n            // indicate that we should supress the next click\r\n            leftClickSuppressNext = true;\r\n            // clear the left click supress timer\r\n            clearTimeout(leftClickSuppressTimer);\r\n            // set the suppress next click flag to false after 300ms\r\n            leftClickSuppressTimer = setTimeout(() => {\r\n                leftClickSuppressNext = false;\r\n            }, 300);\r\n        }\r\n\r\n        // add an event listener that fires when we switch to a different tab or window\r\n        window.addEventListener('blur', (e) => {\r\n            // if we are space speeding\r\n            if (spaceSpeeding) {\r\n                // exit space speeding\r\n                IframeTube_spaceExitSpeeding(e);\r\n            }\r\n            // if we are left click speeding\r\n            if (leftClickSpeeding) {\r\n                // exit left click speeding\r\n                IframeTube_leftClickExitSpeeding(e);\r\n            }\r\n        });\r\n\r\n        // refetch the player (solves some edge cases)\r\n        player = document.querySelector('#player video');\r\n\r\n        // if the window is a pointer event\r\n        if (window.PointerEvent) {\r\n            // add pointer listeners instead of mouse ones\r\n            player.addEventListener('pointerdown', IframeTube_leftClickEnterSpeeding, true);\r\n            player.addEventListener('pointerup', IframeTube_leftClickExitSpeeding, true);\r\n            player.addEventListener('pointerleave', IframeTube_leftClickExitSpeeding, true);\r\n            player.addEventListener('pointercancel', IframeTube_leftClickExitSpeeding, true);\r\n        }\r\n\r\n        // otherwise, add mouse listeners\r\n        else {\r\n            player.addEventListener('mousedown', IframeTube_leftClickEnterSpeeding, true);\r\n            player.addEventListener('mouseup', IframeTube_leftClickExitSpeeding, true);\r\n            player.addEventListener('mouseleave', IframeTube_leftClickExitSpeeding, true);\r\n        }\r\n\r\n        // add a listener for click\r\n        player.addEventListener('click', e => {\r\n            // if the supress flag is true\r\n            if (leftClickSuppressNext) {\r\n                // prevent the default browser and Youtube behavour\r\n                e.preventDefault();\r\n                e.stopImmediatePropagation();\r\n                // set the flag to false\r\n                leftClickSuppressNext = false;\r\n                // if the left click supress timer exists, clear it and set it to false\r\n                if (leftClickSuppressTimer) {\r\n                    clearTimeout(leftClickSuppressTimer);\r\n                    leftClickSuppressTimer = false;\r\n                }\r\n            }\r\n        }, true);\r\n    }\r\n\r\n    // handle the 'Picture In Picture' mode\r\n    let IframeTube_pip_buttons_interval = false;\r\n    let IframeTube_pip_handler_timeout = false;\r\n    function IframeTube_pip_handler() {\r\n        // target the video element\r\n        let video = document.querySelector('video');\r\n        // if it does not exist, retry in 100ms until it does\r\n        if (!video) {\r\n            clearTimeout(IframeTube_pip_handler_timeout);\r\n            IframeTube_pip_handler_timeout = setTimeout(IframeTube_pip_handler, 100);\r\n            return;\r\n        }\r\n\r\n        // add a listener that fires when we enter PIP\r\n        video.addEventListener('enterpictureinpicture', () => {\r\n            // notify the top window that we had entered pip\r\n            window.top.postMessage('IframeTube_enteredPip', '*');\r\n            // enable the missing buttons for PIP\r\n            IframeTube_pip_buttons();\r\n            // while inside PIP, loop that function every 100ms (only reliable way)\r\n            IframeTube_pip_buttons_interval = setInterval(IframeTube_pip_buttons, 100);\r\n        });\r\n\r\n        // add a listener that fires when we leave pip\r\n        video.addEventListener('leavepictureinpicture', () => {\r\n            // notify the top window that we had left pip\r\n            window.top.postMessage('IframeTube_leftPip', '*');\r\n            // stop looping the pip buttons function\r\n            clearInterval(IframeTube_pip_buttons_interval);\r\n        });\r\n    }\r\n\r\n    // enables the next and previous buttons for the PIP player\r\n    let IframeTube_pip_buttons_timeout = false;\r\n    function IframeTube_pip_buttons() {\r\n        // target the video element\r\n        let video = document.querySelector('video');\r\n        if (!video) {\r\n            // if it does not exist, retry in 100ms until it does\r\n            clearTimeout(IframeTube_pip_buttons_timeout);\r\n            IframeTube_pip_buttons_timeout = setTimeout(IframeTube_pip_buttons, 100);\r\n            return;\r\n        }\r\n\r\n        // enable the next button and when clicked, notify the top window to play the next video\r\n        navigator.mediaSession.setActionHandler(\"nexttrack\", () => {\r\n            window.top.postMessage('IframeTube_nextVideo', '*');\r\n        });\r\n\r\n        // if we are on a playlist\r\n        if (IframeTube_playlist) {\r\n            // enable the previous button and when clicked, notify the top window to play the previous video\r\n            navigator.mediaSession.setActionHandler(\"previoustrack\", () => {\r\n                window.top.postMessage('IframeTube_previousVideo', '*');\r\n            });\r\n        }\r\n\r\n        // otherwise, for non playlist videos, disable the previous button\r\n        else {\r\n            navigator.mediaSession.setActionHandler(\"previoustrack\", null);\r\n        }\r\n    }\r\n\r\n    // mutes the video inside the embedded player\r\n    let IframeTube_video_mute_timeout = false;\r\n    function IframTube_video_mute() {\r\n        // target the video element\r\n        let video = document.querySelector('video');\r\n        // if it does not exist, retry in 100ms until it does\r\n        if (!video) {\r\n            clearTimeout(IframeTube_video_mute_timeout);\r\n            IframeTube_video_mute_timeout = setTimeout(IframTube_video_mute, 100);\r\n            return;\r\n        }\r\n        // mute the video\r\n        video.muted = true;\r\n    }\r\n\r\n    // pauses the video inside the embedded player\r\n    let IframeTube_video_pause_timeout = false;\r\n    function IframeTube_video_pause() {\r\n        let video = document.querySelector('video');\r\n        // target the video element\r\n        if (!video) {\r\n            // if it does not exist, retry in 100ms until it does\r\n            clearTimeout(IframeTube_video_pause_timeout);\r\n            IframeTube_video_pause_timeout = setTimeout(IframeTube_video_pause, 100);\r\n            return;\r\n        }\r\n        // pause the video\r\n        video.pause();\r\n    }\r\n\r\n    // unmutes the video inside the embedded player\r\n    function IframeTube_video_unmute() {\r\n        // target the video element\r\n        let video = document.querySelector('video');\r\n        // if it exists, and the user has interacted with the document (hasFocus is the only reliable method)\r\n        if (video && document.hasFocus()) {\r\n            // unmute the video\r\n            video.muted = false;\r\n        }\r\n    }\r\n\r\n    // plays the video inside the embedded player\r\n    function IframeTube_video_play() {\r\n        // target the video element\r\n        let video = document.querySelector('video');\r\n        if (video) {\r\n            // play the video\r\n            video.play();\r\n        }\r\n    }\r\n\r\n    // seek the video inside the embedded player to a certain time\r\n    let IframeTube_video_seekTo_timeout = false;\r\n    function IframeTube_video_seekTo(time) {\r\n        // target the video element\r\n        let video = document.querySelector('video');\r\n        // if it does not exist, retry in 100ms until it does\r\n        if (!video) {\r\n            clearTimeout(IframeTube_video_seekTo_timeout);\r\n            IframeTube_video_seekTo_timeout = setTimeout(() => IframeTube_video_seekTo(time), 100);\r\n            return;\r\n        }\r\n        // skip to that time\r\n        video.currentTime = time;\r\n    }\r\n\r\n    // loads a new video by ID (without reloading the embedded player)\r\n    function IframeTube_api_loadVideoById(videoId, startSeconds) {\r\n        // refetches the iframe api\r\n        IframeTube_iframe_api = document.getElementById('movie_player')\r\n        // if it exists, and load video by id is available\r\n        if (IframeTube_iframe_api && IframeTube_iframe_api.loadVideoById) {\r\n\r\n            // load a video by id, and set its start time\r\n            IframeTube_iframe_api.loadVideoById({ 'videoId': videoId, 'startSeconds': startSeconds });\r\n\r\n            // tell the top window to request the next video preview for that video\r\n            window.top.postMessage('IframeTube_nextVideo_preview');\r\n\r\n            // if we are on a playlist, also request the previous video preview for that video\r\n            if (IframeTube_playlist) {\r\n                window.top.postMessage('IframeTube_previousVideo_preview', '*');\r\n            }\r\n\r\n            // if autoplay is on, or we are on a playlist, hide the end screen\r\n            if (IframeTube_autoPlay || IframeTube_playlist) {\r\n                IframeTube_hideEndScreen();\r\n            }\r\n        }\r\n    }\r\n\r\n    // inits IframeTube inside the embedded player\r\n    function IframeTube_embed_init() {\r\n        IframeTube_player_style();\r\n        IframeTube_player_customControls();\r\n        IframeTube_player_customListeners();\r\n        IframeTube_pip_handler();\r\n        IframeTube_endScreenLinks();\r\n        setInterval(IframeTube_endScreenLinks, 100);\r\n        IframeTube_syncMainPlayer();\r\n        setInterval(IframeTube_syncMainPlayer, 5000);\r\n\r\n        // if we are in Firefox, listen for the 'beforeunload' event to reload the top window\r\n        if (navigator.userAgent.toLowerCase().indexOf('firefox') !== -1) {\r\n            window.addEventListener('beforeunload', () => {\r\n                window.top.location.reload();\r\n            });\r\n        }\r\n\r\n        // otherwise, for other browsers, listen for the 'pagehide' event to reload the top window\r\n        else {\r\n            // if the iframe reloads, also reload the top window to prevent bugs\r\n            window.addEventListener('pagehide', (event) => {\r\n                // only do it if it’s a page reload, not when the user uses the back/forward buttons\r\n                if (!event.persisted) {\r\n                    window.top.location.reload();\r\n                }\r\n            });\r\n        }\r\n\r\n        // adds the listener for when the embedded player fully loads\r\n        document.addEventListener('DOMContentLoaded', () => {\r\n\r\n            window.top.postMessage('IframeTube_youtubePlayerLoaded', '*');\r\n\r\n            window.top.postMessage('IframeTube_nextVideo_preview');\r\n\r\n            window.top.postMessage('IframeTube_previousVideo_preview', '*');\r\n        });\r\n\r\n        // the DOMContentLoaded sometimes fires before the script loads, that is why we also check the document ready state\r\n        if (document.readyState === 'complete' || document.readyState === 'interactive') {\r\n            window.top.postMessage('IframeTube_youtubePlayerLoaded', '*');\r\n            window.top.postMessage('IframeTube_nextVideo_preview');\r\n            window.top.postMessage('IframeTube_previousVideo_preview', '*');\r\n        }\r\n\r\n        // add a listener for messages from the proxy iframe\r\n        window.addEventListener('message', IframeTube_postMessageListener);\r\n    }\r\n\r\n    // calls the embed init function\r\n    IframeTube_embed_init();\r\n\r\n    // end of IIFE\r\n})();"],"names":["Xt","c","r","o","gt","ft","jt","Vt","$t","R","b","ve","ke","l","f","y","fe","O","qt","ut","K","Kt","me","Ie","Ce","Z","Zt","Jt","D","S","J","Qt","a","s","en","w","Q","mt","Me","we","tn","xe","nn","pt","dt","Pe","ue","on","an","rn","sn","ln","ht","cn","fn","At","un","Et","ee","mn","pn","v","_t","St","i","pe","Fe","Y","Rt","Ot","yt","te","X","Lt","bt","Dt","Nt","ne","h","de","It","Ct","Mt","wt","A","Te","Ee","_e","xt","Pt","vt","He","kt","ze","d","Ge","E","We","m","V","ge","k","Be","he","Ye","Xe","U","oe","x","Ae","Se","F","ie","ae","je","Ve","Ut","Re","$","H","z","$e","qe","Ke","Oe","Ze","re","se","I","G","ye","Le","Ft","le","ce","Ht","q","zt","Gt","T","W","Wt","Je","be","Qe","et","Bt","t","n","u","N","P","tt","p","g","nt","De","ot","C","e","it","rt","L","M","at","st","Ne","_","ct","lt","Yt","DOMPurify","IframeTubeTT","input","IframeTube_setInnerHTML","element","html","IframeTube_insertAdjacentHTML","position","IframeTube_setupExtractParams","vars","params","pair","IframeTube_iframe_api","IframeTube_autoPlay","IframeTube_playlist","IframeTube_theater_theaterIcon","IframeTube_theater_defaultIcon","IframeTube_autoplay_enabledTooltip","IframeTube_autoplay_disabledTooltip","IframeTube_extractParams","IframeTube_postMessageListener","message","video","parts","eventType","key","shiftKey","code","keyboardEvent","data","videoId","startTime","IframeTube_api_loadVideoById","time","IframeTube_video_seekTo","IframeTube_theaterButtonAttribute","IframeTube_setTheaterIcon","IframeTube_enablePrevButton","IframeTube_disablePrevButton","shortcutTitle","videoTitle","videoThumbnail","IframeTube_nextVideoPreview","IframeTube_prevVideoPreview","IframeTube_video_pause","IframTube_video_mute","IframeTube_video_play","IframeTube_video_unmute","IframeTube_syncMainPlayer","currentTime","IframeTube_endScreenLinks","link","url","event","IframeTube_hideEndScreen_timeout","IframeTube_hideEndScreen","player","endScreen","IframeTube_showEndScreen_timeout","IframeTube_showEndScreen","IframeTube_player_style","style","prevButton","shortcutText","nextVideoTitle","nextVideoImage","IframeTube_positionNextTooltip","IframeTube_positionNextTooltip_timeout","nextButton","nextTooltip","rect","tooltipHeight","prevVideoTitle","prevVideoImage","IframeTube_positionPrevTooltip","prevTooltip","IframeTube_replayTooltip","replayTooltip","replayTooltips","language","replayTooltipText","isHovering","theaterButton","remoteButton","tooltipText","icon","IframeTube_player_customControls_timeout","IframeTube_player_customControls","subtitlesButton","defaultIcon","theaterIcon","IframeTube_autoPlay_timeout","IframeTube_autoplayButton","autoPlayButton","innerButton","IframeTube_player_customListeners_timeout","IframeTube_player_customListeners","IframeTube_videoEnded","pipButton","IframeTube_doubleSpeedShortcuts","endscreen","IframeTube_class","IframeTube_protectClass","className","remove","classes","hideControls","gradientTop","showControls","controls","evt","type","createSpeedOverlay","doubleSpeedElement","showSpeedOverlay","speed","label","hideSpeedOverlay","spaceHoldTime","spaceHoldTimeout","spaceSpeeding","spaceVideoWasPaused","spacePreviousPlaybackRate","IframeTube_spaceEnterSpeeding","leftClickSpeeding","IframeTube_spaceExitSpeeding","leftClickHoldTimeout","leftClickVideoWasPaused","leftClickPreviousPlaybackRate","leftClickSuppressNext","leftClickSuppressTimer","IframeTube_leftClickEnterSpeeding","IframeTube_leftClickExitSpeeding","IframeTube_pip_buttons_interval","IframeTube_pip_handler_timeout","IframeTube_pip_handler","IframeTube_pip_buttons","IframeTube_pip_buttons_timeout","IframeTube_video_mute_timeout","IframeTube_video_pause_timeout","IframeTube_video_seekTo_timeout","startSeconds","IframeTube_embed_init"],"mappings":"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"}